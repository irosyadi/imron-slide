<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>johnson_pcit_chapter_2 – Instrumentation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-e31584831b205ffbb2d98406f31c2a5b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Instrumentation</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#analog-signal-conditioning" id="toc-analog-signal-conditioning" class="nav-link active" data-scroll-target="#analog-signal-conditioning">Analog Signal Conditioning</a></li>
  <li><a href="#instructional-objectives" id="toc-instructional-objectives" class="nav-link" data-scroll-target="#instructional-objectives">INSTRUCTIONAL OBJECTIVES</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">1 INTRODUCTION</a></li>
  <li><a href="#principles-of-analog-signal-conditioning" id="toc-principles-of-analog-signal-conditioning" class="nav-link" data-scroll-target="#principles-of-analog-signal-conditioning">2 PRINCIPLES OF ANALOG SIGNAL CONDITIONING</a></li>
  <li><a href="#signal-level-and-bias-changes" id="toc-signal-level-and-bias-changes" class="nav-link" data-scroll-target="#signal-level-and-bias-changes">2.1 Signal-Level and Bias Changes</a></li>
  <li><a href="#linearization" id="toc-linearization" class="nav-link" data-scroll-target="#linearization">2.2 Linearization</a></li>
  <li><a href="#conversions" id="toc-conversions" class="nav-link" data-scroll-target="#conversions">2.3 Conversions</a></li>
  <li><a href="#filtering-and-impedance-matching" id="toc-filtering-and-impedance-matching" class="nav-link" data-scroll-target="#filtering-and-impedance-matching">2.4 Filtering and Impedance Matching</a></li>
  <li><a href="#concept-of-loading" id="toc-concept-of-loading" class="nav-link" data-scroll-target="#concept-of-loading">2.5 Concept of Loading</a></li>
  <li><a href="#example-1" id="toc-example-1" class="nav-link" data-scroll-target="#example-1">EXAMPLE 1</a></li>
  <li><a href="#solution" id="toc-solution" class="nav-link" data-scroll-target="#solution">Solution</a></li>
  <li><a href="#passive-circuits" id="toc-passive-circuits" class="nav-link" data-scroll-target="#passive-circuits">3 PASSIVE CIRCUITS</a></li>
  <li><a href="#divider-circuits" id="toc-divider-circuits" class="nav-link" data-scroll-target="#divider-circuits">3.1 Divider Circuits</a></li>
  <li><a href="#example-2" id="toc-example-2" class="nav-link" data-scroll-target="#example-2">EXAMPLE 2</a></li>
  <li><a href="#solution-1" id="toc-solution-1" class="nav-link" data-scroll-target="#solution-1">Solution</a></li>
  <li><a href="#bridge-circuits" id="toc-bridge-circuits" class="nav-link" data-scroll-target="#bridge-circuits">3.2 Bridge Circuits</a></li>
  <li><a href="#example-3" id="toc-example-3" class="nav-link" data-scroll-target="#example-3">EXAMPLE 3</a></li>
  <li><a href="#solution-2" id="toc-solution-2" class="nav-link" data-scroll-target="#solution-2">Solution</a></li>
  <li><a href="#example-4" id="toc-example-4" class="nav-link" data-scroll-target="#example-4">EXAMPLE 4</a></li>
  <li><a href="#solution-3" id="toc-solution-3" class="nav-link" data-scroll-target="#solution-3">Solution</a></li>
  <li><a href="#solution-4" id="toc-solution-4" class="nav-link" data-scroll-target="#solution-4">Solution</a></li>
  <li><a href="#solution-5" id="toc-solution-5" class="nav-link" data-scroll-target="#solution-5">Solution</a></li>
  <li><a href="#example-7" id="toc-example-7" class="nav-link" data-scroll-target="#example-7">EXAMPLE 7</a></li>
  <li><a href="#solution-6" id="toc-solution-6" class="nav-link" data-scroll-target="#solution-6">Solution</a></li>
  <li><a href="#example-9" id="toc-example-9" class="nav-link" data-scroll-target="#example-9">EXAMPLE 9</a></li>
  <li><a href="#solution-7" id="toc-solution-7" class="nav-link" data-scroll-target="#solution-7">Solution</a></li>
  <li><a href="#example-10" id="toc-example-10" class="nav-link" data-scroll-target="#example-10">EXAMPLE 10</a></li>
  <li><a href="#solution-8" id="toc-solution-8" class="nav-link" data-scroll-target="#solution-8">Solution</a></li>
  <li><a href="#rc-filters" id="toc-rc-filters" class="nav-link" data-scroll-target="#rc-filters">3.3 RC Filters</a></li>
  <li><a href="#example-11" id="toc-example-11" class="nav-link" data-scroll-target="#example-11">EXAMPLE 11</a></li>
  <li><a href="#solution-9" id="toc-solution-9" class="nav-link" data-scroll-target="#solution-9">Solution</a></li>
  <li><a href="#solution-10" id="toc-solution-10" class="nav-link" data-scroll-target="#solution-10">Solution</a></li>
  <li><a href="#solution-11" id="toc-solution-11" class="nav-link" data-scroll-target="#solution-11">Solution</a></li>
  <li><a href="#example-14" id="toc-example-14" class="nav-link" data-scroll-target="#example-14">EXAMPLE 14</a></li>
  <li><a href="#solution-12" id="toc-solution-12" class="nav-link" data-scroll-target="#solution-12">Solution</a></li>
  <li><a href="#example-15" id="toc-example-15" class="nav-link" data-scroll-target="#example-15">EXAMPLE 15</a></li>
  <li><a href="#solution-13" id="toc-solution-13" class="nav-link" data-scroll-target="#solution-13">Solution</a></li>
  <li><a href="#operational-amplifiers" id="toc-operational-amplifiers" class="nav-link" data-scroll-target="#operational-amplifiers">4 OPERATIONAL AMPLIFIERS</a></li>
  <li><a href="#op-amp-characteristics" id="toc-op-amp-characteristics" class="nav-link" data-scroll-target="#op-amp-characteristics">4.1 Op Amp Characteristics</a></li>
  <li><a href="#op-amp-specifications" id="toc-op-amp-specifications" class="nav-link" data-scroll-target="#op-amp-specifications">4.2 Op Amp Specifications</a></li>
  <li><a href="#example-17" id="toc-example-17" class="nav-link" data-scroll-target="#example-17">EXAMPLE 17</a></li>
  <li><a href="#solution-14" id="toc-solution-14" class="nav-link" data-scroll-target="#solution-14">Solution</a></li>
  <li><a href="#op-amp-circuits-in-instrumentation" id="toc-op-amp-circuits-in-instrumentation" class="nav-link" data-scroll-target="#op-amp-circuits-in-instrumentation">5 OP AMP CIRCUITS IN INSTRUMENTATION</a></li>
  <li><a href="#voltage-follower" id="toc-voltage-follower" class="nav-link" data-scroll-target="#voltage-follower">5.1 Voltage Follower</a></li>
  <li><a href="#inverting-amplifier" id="toc-inverting-amplifier" class="nav-link" data-scroll-target="#inverting-amplifier">5.2 Inverting Amplifier</a></li>
  <li><a href="#solution-15" id="toc-solution-15" class="nav-link" data-scroll-target="#solution-15">Solution</a></li>
  <li><a href="#noninverting-amplifier" id="toc-noninverting-amplifier" class="nav-link" data-scroll-target="#noninverting-amplifier">5.3 Noninverting Amplifier</a></li>
  <li><a href="#differential-instrumentation-amplifier" id="toc-differential-instrumentation-amplifier" class="nav-link" data-scroll-target="#differential-instrumentation-amplifier">5.4 Differential Instrumentation Amplifier</a></li>
  <li><a href="#solution-16" id="toc-solution-16" class="nav-link" data-scroll-target="#solution-16">Solution</a></li>
  <li><a href="#example-21" id="toc-example-21" class="nav-link" data-scroll-target="#example-21">EXAMPLE 21</a></li>
  <li><a href="#solution-17" id="toc-solution-17" class="nav-link" data-scroll-target="#solution-17">Solution</a></li>
  <li><a href="#voltage-to-current-converter" id="toc-voltage-to-current-converter" class="nav-link" data-scroll-target="#voltage-to-current-converter">5.5 Voltage-to-Current Converter</a></li>
  <li><a href="#example-22" id="toc-example-22" class="nav-link" data-scroll-target="#example-22">EXAMPLE 22</a></li>
  <li><a href="#solution-18" id="toc-solution-18" class="nav-link" data-scroll-target="#solution-18">Solution</a></li>
  <li><a href="#current-to-voltage-converter" id="toc-current-to-voltage-converter" class="nav-link" data-scroll-target="#current-to-voltage-converter">5.6 Current-to-Voltage Converter</a></li>
  <li><a href="#integrator" id="toc-integrator" class="nav-link" data-scroll-target="#integrator">5.7 Integrator</a></li>
  <li><a href="#example-23" id="toc-example-23" class="nav-link" data-scroll-target="#example-23">EXAMPLE 23</a></li>
  <li><a href="#solution-19" id="toc-solution-19" class="nav-link" data-scroll-target="#solution-19">Solution</a></li>
  <li><a href="#differentiator" id="toc-differentiator" class="nav-link" data-scroll-target="#differentiator">5.8 Differentiator</a></li>
  <li><a href="#linearization-1" id="toc-linearization-1" class="nav-link" data-scroll-target="#linearization-1">5.9 Linearization</a></li>
  <li><a href="#design-guidelines" id="toc-design-guidelines" class="nav-link" data-scroll-target="#design-guidelines">6 DESIGN GUIDELINES</a></li>
  <li><a href="#guidelines-for-analog-signal-conditioning-design" id="toc-guidelines-for-analog-signal-conditioning-design" class="nav-link" data-scroll-target="#guidelines-for-analog-signal-conditioning-design">Guidelines for Analog Signal-Conditioning Design</a></li>
  <li><a href="#define-the-measurement-objective." id="toc-define-the-measurement-objective." class="nav-link" data-scroll-target="#define-the-measurement-objective.">1. Define the measurement objective.</a></li>
  <li><a href="#example-24" id="toc-example-24" class="nav-link" data-scroll-target="#example-24">EXAMPLE 24</a></li>
  <li><a href="#solution-20" id="toc-solution-20" class="nav-link" data-scroll-target="#solution-20">Solution</a></li>
  <li><a href="#example-25" id="toc-example-25" class="nav-link" data-scroll-target="#example-25">EXAMPLE 25</a></li>
  <li><a href="#solution-21" id="toc-solution-21" class="nav-link" data-scroll-target="#solution-21">Solution</a></li>
  <li><a href="#measured-variable-parameter-temperature" id="toc-measured-variable-parameter-temperature" class="nav-link" data-scroll-target="#measured-variable-parameter-temperature">Measured Variable Parameter: Temperature</a></li>
  <li><a href="#sensor-signal" id="toc-sensor-signal" class="nav-link" data-scroll-target="#sensor-signal">Sensor Signal</a></li>
  <li><a href="#signal-conditioning" id="toc-signal-conditioning" class="nav-link" data-scroll-target="#signal-conditioning">Signal Conditioning</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">SUMMARY</a></li>
  <li><a href="#problems" id="toc-problems" class="nav-link" data-scroll-target="#problems">PROBLEMS</a></li>
  <li><a href="#section-2" id="toc-section-2" class="nav-link" data-scroll-target="#section-2">Section 2</a></li>
  <li><a href="#section-3" id="toc-section-3" class="nav-link" data-scroll-target="#section-3">Section 3</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="analog-signal-conditioning" class="level2">
<h2 class="anchored" data-anchor-id="analog-signal-conditioning">Analog Signal Conditioning</h2>
</section>
<section id="instructional-objectives" class="level2">
<h2 class="anchored" data-anchor-id="instructional-objectives">INSTRUCTIONAL OBJECTIVES</h2>
<p>The purpose of this chapter is to introduce the reader to a variety of analog signal-conditioning methods used in process-control systems. Both passive methods and active methods, based upon the use of op amps, are defined. After reading this chapter and working through the examples and problems you will be able to:</p>
<ul>
<li>Explain the purpose of analog signal conditioning.</li>
<li>Design a Wheatstone bridge circuit to convert resistance change to voltage change.</li>
<li>Design RC low-pass and high-pass filter circuits to eliminate unwanted signals.</li>
<li>Draw the schematics of four common op amp circuits and provide the transfer functions.</li>
<li>Explain the operation of an instrumentation amplifier and draw its schematic.</li>
<li>Design an analog signal-conditioning system to convert an input range of voltages to some desired output range of voltage.</li>
<li>Design analog signal conditioning so that some range of resistance variation is converted into a desired range of voltage variation.</li>
</ul>
</section>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">1 INTRODUCTION</h2>
<p>Signal conditioning refers to operations performed on signals to convert them to a form suitable for interfacing with other elements in the process-control loop. In this chapter, we are concerned only with analog conversions, where the conditioned output is still an analog representation of the variable. Even in applications involving digital processing, some type of analog conditioning is usually required before analog-to-digital conversion is made.</p>
</section>
<section id="principles-of-analog-signal-conditioning" class="level2">
<h2 class="anchored" data-anchor-id="principles-of-analog-signal-conditioning">2 PRINCIPLES OF ANALOG SIGNAL CONDITIONING</h2>
<p>A sensor measures a variable by converting information about that variable into a dependent signal of either electrical or pneumatic nature. To develop such transducers, we take advantage of fortuitous circumstances in nature where a dynamic variable influences some characteristic of a material. Consequently, there is little choice of the type or extent of such proportionality. For example, once we have researched nature and found that cadmium sulfide resistance varies inversely and nonlinearly with light intensity, we must then learn to employ this device for light measurement within the confines of that dependence. Analog signal conditioning provides the operations necessary to transform a sensor output into a form necessary to interface with other elements of the process-control loop. We will confine our attention to electrical transformations.</p>
<p>We often describe the effect of the signal conditioning by the term transfer function. By this term we mean the effect of the signal conditioning on the input signal. Thus, a simple voltage amplifier has a transfer function of some constant that, when multiplied by the input voltage, gives the output voltage.</p>
<p>It is possible to categorize signal conditioning into several general types.</p>
</section>
<section id="signal-level-and-bias-changes" class="level2">
<h2 class="anchored" data-anchor-id="signal-level-and-bias-changes">2.1 Signal-Level and Bias Changes</h2>
<p>One of the most common types of signal conditioning involves adjusting the level (magnitude) and bias (zero value) of some voltage representing a process variable. For example, some sensor output voltage may vary from 0.2 to <span class="math inline">\(0.6\mathrm{V}\)</span> as a process variable changes over a measurement range. However, equipment to which this sensor output must be connected perhaps requires a voltage that varies from 0 to <span class="math inline">\(5\mathrm{V}\)</span> for the same variation of the process variable.</p>
<p>We perform the required signal conditioning by first changing the zero to occur when the sensor output is <span class="math inline">\(0.2\mathrm{V}\)</span> . This can be done by simply subtracting 0.2 from the sensor output, which is called a zero shift, or a bias adjustment.</p>
<p>Now we have a voltage that varies from 0 to <span class="math inline">\(0.4\mathrm{V}\)</span> , so we need to make the voltage larger. If we multiply the voltage by 12.5, the new output will vary from 0 to <span class="math inline">\(5\mathrm{V}\)</span> as required. This is called amplification, and 12.5 is called the gain. In some cases, we need to make a sensor output smaller, which is called attenuation. You should note that the circuit that does either chore is called an amplifier. We distinguish between amplification and attenuation by noting whether the gain of the amplifier is greater than or less than unity.</p>
<p>In designing bias and amplifier circuits, we must be concerned with issues such as the frequency response, output impedance, and input impedance.</p>
</section>
<section id="linearization" class="level2">
<h2 class="anchored" data-anchor-id="linearization">2.2 Linearization</h2>
<p>As pointed out at the beginning of this section, the process-control designer has little choice of the characteristics of a sensor output versus a process variable. Often, the dependence that exists between input and output is nonlinear. Even those devices that are approximately linear may present problems when precise measurements of the variable are required.</p>
<p>FIGURE 1 The purpose of linearization is to provide an output that varies linearly with some variable even if the sensor output does not.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/6f031e1ff32c9109833839c887a702de_MD5.jpg" class="img-fluid"></p>
<ol type="a">
<li></li>
</ol>
<p><img src="Books/Johnson_PCIT/chapter_2/449293b3b7533be55456463ae0fe80fe_MD5.jpg" class="img-fluid"></p>
<ol start="2" type="a">
<li></li>
</ol>
<p><img src="Books/Johnson_PCIT/chapter_2/b3031d5c30f5436cc8bb174f7cde750e_MD5.jpg" class="img-fluid"></p>
<ol start="3" type="a">
<li></li>
</ol>
<p>Historically, specialized analog circuits were devised to linearize signals. For example, suppose a sensor output varied nonlinearly with a process variable, as shown in Figure 1a. A linearization circuit, indicated symbolically in Figure 1b, would ideally be one that conditioned the sensor output so that a voltage was produced which was linear with the process variable, as shown in Figure 1c. Such circuits are difficult to design and usually operate only within narrow limits.</p>
<p>The modern approach to this problem is to provide the nonlinear signal as input to a computer and perform the linearization using software. Virtually any nonlinearity can be handled in this manner and, with the speed of modern computers, in nearly real time.</p>
</section>
<section id="conversions" class="level2">
<h2 class="anchored" data-anchor-id="conversions">2.3 Conversions</h2>
<p>Often, signal conditioning is used to convert one type of electrical variation into another. Thus, a large class of sensors exhibit changes of resistance with changes in a dynamic variable. In these cases, it is necessary to provide a circuit to convert this resistance change either to a voltage or a current signal. This is generally accomplished by bridges when the fractional resistance change is small and/or by amplifiers whose gain varies with resistance.</p>
<p>Signal Transmission An important type of conversion is associated with the process-control standard of transmitting signals as 4to <span class="math inline">\(20\mathrm{-mA}\)</span> current levels in wire. This gives rise to the need for converting resistance and voltage levels to an appropriate current level at the transmitting end and for converting the current back to voltage at the receiving end. Of course, current transmission is used because such a signal is independent of load variations other than accidental shunt conditions that may draw off some current. Thus, voltage-to-current and current-to-voltage converters are often required.</p>
<p>Digital Interface The use of computers in process control requires conversion of analog data into a digital format by integrated circuit devices called analog-to-digital converters (ADCs). Analog signal conversion is usually required to adjust the analog measurement signal to match the input requirements of the ADC. For example, the ADC may need a voltage that varies between 0 and <span class="math inline">\(5\mathrm{V}\)</span> , but the sensor provides a signal that varies from 30 to <span class="math inline">\(80\mathrm{mV}\)</span> . Signal conversion circuits can be developed to interface the output to the required ADC input.</p>
</section>
<section id="filtering-and-impedance-matching" class="level2">
<h2 class="anchored" data-anchor-id="filtering-and-impedance-matching">2.4 Filtering and Impedance Matching</h2>
<p>Two other common signal-conditioning requirements are filtering and matching impedance.</p>
<p>Often, spurious signals of considerable strength are present in the industrial environment, such as the 60-Hz line frequency signals. Motor start transients may also cause pulses and other unwanted signals in the process-control loop. In many cases, it is necessary to use high-pass, low-pass, or notch filters to eliminate unwanted signals from the loop. Such filtering can be accomplished by passive filters, using only resistors, capacitors, and inductors, or active filters, using gain and feedback.</p>
<p>Impedance matching is an important element of signal conditioning when transducer internal impedance or line impedance can cause errors in measurement of a dynamic variable. Both active and passive networks are employed to provide such matching.</p>
</section>
<section id="concept-of-loading" class="level2">
<h2 class="anchored" data-anchor-id="concept-of-loading">2.5 Concept of Loading</h2>
<p>One of the most important concerns in analog signal conditioning is the loading of one circuit by another. This introduces uncertainty in the amplitude of a voltage as it is passed through the measurement process. If this voltage represents some process variable, then we have uncertainty in the value of the variable.</p>
<p>Qualitatively, loading can be described as follows. Suppose the open-circuit output of some element is a voltage, say <span class="math inline">\(V_{x}\)</span> , when the element input is some variable of value <span class="math inline">\(x\)</span> . This element could be a sensor or some other part of the signal-conditioning circuit, such as a bridge circuit or amplifier. Open circuit means that nothing is connected to the output. Loading occurs when we do connect something, a load, across the output, and the output voltage of the element drops to some value, <span class="math inline">\(V_{y} &lt; V_{x}\)</span> . Different loads result in different drops.</p>
<p>Quantitatively, we can evaluate loading as follows. Thévenin’s theorem tells us that the output terminals of any two terminal elements can be defined as a voltage source in se ries with an output impedance. Let’s assume this is a resistance (the output resistance) to make the description easier to follow. This is called the Thévenin equivalent circuit model of the element.</p>
<p>FIGURE 2 The Thévenin equivalent circuit of a sensor allows easy visualization of how loading occurs.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/b0ac34a0d92e68925fdf27e23719f917_MD5.jpg" class="img-fluid"></p>
<p>Figure 2 shows such an element modeled as a voltage <span class="math inline">\(V_{x}\)</span> and a resistance <span class="math inline">\(R_{x}\)</span> . Now suppose a load, <span class="math inline">\(R_{L}\)</span> , is connected across the output of the element as shown in Figure 2. This could be the input resistance of an amplifier, for example. A current will flow, and voltage will be dropped across <span class="math inline">\(R_{x}\)</span> . It is easy to calculate that the loaded output voltage will thus be given by</p>
<p><span class="math display">\[
V _ {y} = V _ {x} \left(1 - \frac {R _ {x}}{R _ {L} + R _ {x}}\right) \tag {1}
\]</span></p>
<p>The voltage that appears across the load is reduced by the voltage dropped across the internal resistance.</p>
<p>This equation shows how the effects of loading can be reduced. Clearly, the objective will be to make <span class="math inline">\(R_{L}\)</span> much larger than <span class="math inline">\(R_{x}\)</span> that is, <span class="math inline">\(R_{L} \gg R_{x}\)</span> . The following example shows how the effects of loading can compromise our measurements.</p>
</section>
<section id="example-1" class="level2">
<h2 class="anchored" data-anchor-id="example-1">EXAMPLE 1</h2>
<p>An amplifier outputs a voltage that is 10 times the voltage on its input terminals. It has an input resistance of <span class="math inline">\(10\mathrm{k}\Omega\)</span> . A sensor outputs a voltage proportional to temperature with a transfer function of <span class="math inline">\(20\mathrm{mV} / {}^{\circ}\mathrm{C}\)</span> . The sensor has an output resistance of <span class="math inline">\(5.0\mathrm{k}\Omega\)</span> . If the temperature is <span class="math inline">\(50^{\circ}\mathrm{C}\)</span> , find the amplifier output.</p>
</section>
<section id="solution" class="level2">
<h2 class="anchored" data-anchor-id="solution">Solution</h2>
<p>The naive solution is represented by Figure 3a. The unloaded output of the sensor is simply <span class="math inline">\(V_{T} = (20\mathrm{mV / }^{\circ}\mathrm{C})50^{\circ}\mathrm{C} = 1.0\mathrm{V}\)</span> . Since the amplifier has a gain of 10, the output of the amplifier appears to be <span class="math inline">\(V_{\mathrm{out}} = 10V_{\mathrm{in}} = (10)1.0\mathrm{V} = 10\mathrm{V}\)</span> . But this is wrong, because of loading!</p>
<p>Figure 3b shows the correct analysis. Here we see that there will be a voltage dropped across the output resistance of the sensor. The actual amplifier input voltage will be given by Equation (1), where <span class="math inline">\(V_{T} = 1.0 \, \mathrm{V}\)</span> , so that <span class="math inline">\(V_{\mathrm{in}} = 0.67 \, \mathrm{V}\)</span> . Thus, the output of the amplifier is actually <span class="math inline">\(V_{\mathrm{out}} = 10(0.67 \, \mathrm{V}) = 6.7 \, \mathrm{V}\)</span> .</p>
<p>This concept plays an important role in analog signal conditioning.</p>
<p><span class="math display">\[
V _ {\mathrm {i n}} = V _ {T} \left(1 - \frac {5 . 0 \mathrm {k} \Omega}{5 . 0 \mathrm {k} \Omega + 1 0 \mathrm {k} \Omega}\right)
\]</span></p>
<p>FIGURE 3 If loading is ignored, serious errors can occur in expected outputs of circuits and gains of amplifiers.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/7ebfa295db388a0092084c29c7317a0a_MD5.jpg" class="img-fluid"></p>
<ol type="a">
<li></li>
</ol>
<p><img src="Books/Johnson_PCIT/chapter_2/c78219a147d2816cbe30def0b702e240_MD5.jpg" class="img-fluid"></p>
<ol start="2" type="a">
<li></li>
</ol>
<p>If the electrical quantity of interest is frequency or a digital signal, then loading is not such a problem. That is, if there is enough signal left after loading to measure the frequency or to distinguish ones from zeros, there will be no error. Loading is important mostly when signal amplitudes are important.</p>
</section>
<section id="passive-circuits" class="level2">
<h2 class="anchored" data-anchor-id="passive-circuits">3 PASSIVE CIRCUITS</h2>
<p>Bridge and divider circuits are two passive techniques that have been extensively used for signal conditioning for many years. Although modern active circuits often replace these techniques, there are still many applications where their particular advantages make them useful.</p>
<p>Bridge circuits are used primarily as an accurate means of measuring changes in impedance. Such circuits are particularly useful when the fractional changes in impedance are very small.</p>
<p>FIGURE 4 The simple voltage divider can often be used to convert resistance variation into voltage variation.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/efd39373523947f6b2a9496333c3c436_MD5.jpg" class="img-fluid"></p>
<p>Another common type of passive circuit involved in signal conditioning is for filtering unwanted frequencies from the measurement signal. It is quite common in the industrial environment to find signals that possess highand/or low-frequency noise as well as the desired measurement data. For example, a transducer may convert temperature information into a dc voltage, proportional to temperature. Because of the ever-present ac power lines, however, there may be a 60-Hz noise voltage impressed on the output that makes determination of the temperature difficult. A passive circuit consisting of a resistor and capacitor often can be used to eliminate both highand low-frequency noise without changing the desired signal information.</p>
</section>
<section id="divider-circuits" class="level2">
<h2 class="anchored" data-anchor-id="divider-circuits">3.1 Divider Circuits</h2>
<p>The elementary voltage divider shown in Figure 4 often can be used to provide conversion of resistance variation into a voltage variation. The voltage of such a divider is given by the well-known relationship</p>
<p><span class="math display">\[
V _ {D} = \frac {R _ {2} V _ {s}}{R _ {1} + R _ {2}} \tag {2}
\]</span></p>
<p>where <span class="math inline">\(V_{s} =\)</span> supply voltage</p>
<p><span class="math display">\[
R _ {1}, R _ {2} = \text {d i v i d e r}
\]</span></p>
<p>Either <span class="math inline">\(R_{1}\)</span> or <span class="math inline">\(R_{2}\)</span> can be the sensor whose resistance varies with some measured variable.</p>
<p>It is important to consider the following issues when using a divider for conversion of resistance to voltage variation:</p>
<ol type="1">
<li>The variation of <span class="math inline">\(V_{D}\)</span> with either <span class="math inline">\(R_{1}\)</span> or <span class="math inline">\(R_{2}\)</span> is nonlinear; that is, even if the resistance varies linearly with the measured variable, the divider voltage will not vary linearly.</li>
<li>The effective output impedance of the divider is the parallel combination of <span class="math inline">\(R_{1}\)</span> and <span class="math inline">\(R_{2}\)</span> . This may not necessarily be high, so loading effects must be considered.</li>
<li>In a divider circuit, current flows through both resistors; that is, power will be dissipated by both, including the sensor. The power rating of both the resistor and sensor must be considered.</li>
</ol>
</section>
<section id="example-2" class="level2">
<h2 class="anchored" data-anchor-id="example-2">EXAMPLE 2</h2>
<p>The divider of Figure 4 has <span class="math inline">\(R_{1} = 10.0 \, \mathrm{k}\Omega\)</span> and <span class="math inline">\(V_{s} = 5.00 \, \mathrm{V}\)</span> . Suppose <span class="math inline">\(R_{2}\)</span> is a sensor whose resistance varies from 4.00 to <span class="math inline">\(12.0 \, \mathrm{k}\Omega\)</span> as some dynamic variable varies over a range. Then find (a) the minimum and maximum of <span class="math inline">\(V_{D}\)</span> , (b) the range of output impedance, and (c) the range of power dissipated by <span class="math inline">\(R_{2}\)</span> .</p>
</section>
<section id="solution-1" class="level2">
<h2 class="anchored" data-anchor-id="solution-1">Solution</h2>
<ol type="a">
<li>The solution is given by Equation (2). For <span class="math inline">\(R_{2} = 4\mathrm{k}\Omega\)</span> we have</li>
</ol>
<p><span class="math display">\[
V _ {D} = \frac {(5 \mathrm {V}) (4 \mathrm {k} \Omega)}{1 0 \mathrm {k} \Omega + 4 \mathrm {k} \Omega} = 1. 4 3 \mathrm {V}
\]</span></p>
<p>For <span class="math inline">\(R_{2} = 12\mathrm{k}\Omega\)</span> , the voltage is</p>
<p><span class="math display">\[
V _ {D} = \frac {(5 \mathrm {V}) (1 2 \mathrm {k} \Omega)}{1 0 \mathrm {k} \Omega + 1 2 \mathrm {k} \Omega} = 2. 7 3 \mathrm {V}
\]</span></p>
<ol start="2" type="a">
<li><p>Thus, the voltage varies from 1.43 to <span class="math inline">\(2.73\mathrm{V}\)</span></p></li>
<li><p>The range of output impedance is found from the parallel combination of <span class="math inline">\(R_{1}\)</span> and <span class="math inline">\(R_{2}\)</span> for the minimum and maximum of <span class="math inline">\(R_{2}\)</span> . Simple parallel resistance computation shows that this will be from 2.86 to <span class="math inline">\(5.45\mathrm{k}\Omega\)</span> .</p></li>
<li><p>The power dissipated by the sensor can be determined most easily from <span class="math inline">\(V^2 / R_2\)</span> , as the voltage across <span class="math inline">\(R_2\)</span> has been calculated. The power dissipated varies from 0.51 to 0.62 mW.</p></li>
</ol>
</section>
<section id="bridge-circuits" class="level2">
<h2 class="anchored" data-anchor-id="bridge-circuits">3.2 Bridge Circuits</h2>
<p>Bridge circuits are used to convert impedance variations into voltage variations. One of the advantages of the bridge for this task is that it can be designed so the voltage produced varies around zero. This means that amplification can be used to increase the voltage level for increased sensitivity to variation of impedance.</p>
<p>Another application of bridge circuits is in the precise static measurement of an impedance.</p>
<p>Wheatstone Bridge The simplest and most common bridge circuit is the dc Wheatstone bridge, as shown in Figure 5. This network is used in signal-conditioning applications where a sensor changes resistance with process variable changes. Many modifications of this basic bridge are employed for other specific applications. In Figure 5, the object labeled <span class="math inline">\(D\)</span> is a voltage detector used to compare the potentials of points <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> of the network. In most modern applications, the detector is a very high-input impedance differential amplifier. In some cases, a highly sensitive galvanometer with a relatively low impedance may be used, especially for calibration purposes and spot measurement instruments.</p>
<p>For our initial analysis, assume the detector impedance is infinite—that is, an open circuit.</p>
<p>In this case, the potential difference, <span class="math inline">\(\Delta V\)</span> , between points <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> is simply</p>
<p><span class="math display">\[
\Delta V = V _ {a} - V _ {b} \tag {3}
\]</span></p>
<p>FIGURE 5 The basic dc Wheatstone bridge.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/fab4f52bb6953e81041afeb0edd48a76_MD5.jpg" class="img-fluid"></p>
<p>where <span class="math inline">\(V_{a} =\)</span> potential of point <span class="math inline">\(a\)</span> with respect to <span class="math inline">\(c\)</span></p>
<p><span class="math inline">\(V_{b} =\)</span> potential of point <span class="math inline">\(^b\)</span> with respect to <span class="math inline">\(c\)</span></p>
<p>The values of <span class="math inline">\(V_{a}\)</span> and <span class="math inline">\(V_{b}\)</span> now can be found by noting that <span class="math inline">\(V_{a}\)</span> is just the supply voltage, <span class="math inline">\(V_{b}\)</span> divided between <span class="math inline">\(R_{1}\)</span> and <span class="math inline">\(R_{3}\)</span> .</p>
<p><span class="math display">\[
V _ {a} = \frac {V R _ {3}}{R _ {1} + R _ {3}} \tag {4}
\]</span></p>
<p>In a similar fashion, <span class="math inline">\(V_{b}\)</span> is a divided voltage given by</p>
<p><span class="math display">\[
V _ {b} = \frac {V R _ {4}}{R _ {2} + R _ {4}} \tag {5}
\]</span></p>
<p>where <span class="math inline">\(V =\)</span> bridge supply voltage</p>
<p>If we now combine Equations (3), (4), and (5), the voltage difference or voltage offset can be written</p>
<p><span class="math display">\[
\Delta V = \frac {V R _ {3}}{R _ {1} + R _ {3}} - \frac {V R _ {4}}{R _ {2} + R _ {4}} \tag {6}
\]</span></p>
<p>Using algebra, the reader can show that this equation reduces to</p>
<p><span class="math display">\[
\Delta V = V \frac {R _ {3} R _ {2} - R _ {1} R _ {4}}{\left(R _ {1} + R _ {3}\right) \cdot \left(R _ {2} + R _ {4}\right)} \tag {7}
\]</span></p>
<p>Equation (7) shows how the difference in potential across the detector is a function of the supply voltage and the values of the resistors. Because a difference appears in the numerator of Equation (7), it is clear that a particular combination of resistors can be found that will result in zero difference and zero voltage across the detector—that is, a null. Obviously, this combination, from examination of Equation (7), is</p>
<p><span class="math display">\[
R _ {3} R _ {2} = R _ {1} R _ {4} \tag {8}
\]</span></p>
<p>Equation (8) indicates that whenever a Wheatstone bridge is assembled and resistors are adjusted for a detector null, the resistor values must satisfy the indicated equality. It does</p>
<p>not matter if the supply voltage drifts or changes; the null is maintained. Equations (7) and (8) underlie the application of Wheatstone bridges to process-control applications using high-input impedance detectors.</p>
</section>
<section id="example-3" class="level2">
<h2 class="anchored" data-anchor-id="example-3">EXAMPLE 3</h2>
<p>If a Wheatstone bridge, as shown in Figure 5, nulls with <span class="math inline">\(R_{1} = 1000\Omega\)</span> , <span class="math inline">\(R_{2} = 842\Omega\)</span> , and <span class="math inline">\(R_{3} = 500\Omega\)</span> , find the value of <span class="math inline">\(R_{4}\)</span> .</p>
</section>
<section id="solution-2" class="level2">
<h2 class="anchored" data-anchor-id="solution-2">Solution</h2>
<p>Because the bridge is nulled, find <span class="math inline">\(R_4\)</span> using Equation (8):</p>
<p><span class="math display">\[
R _ {1} R _ {4} = R _ {3} R _ {2}
\]</span></p>
<p><span class="math display">\[
R _ {4} = \frac {R _ {3} R _ {2}}{R _ {1}} = \frac {(5 0 0 \Omega) (8 4 2 \Omega)}{1 0 0 0 \Omega}
\]</span></p>
<p><span class="math display">\[
R _ {4} = 4 2 1 \Omega
\]</span></p>
</section>
<section id="example-4" class="level2">
<h2 class="anchored" data-anchor-id="example-4">EXAMPLE 4</h2>
<p>The resistors in a bridge are given by <span class="math inline">\(R_{1} = R_{2} = R_{3} = 120\Omega\)</span> and <span class="math inline">\(R_{4} = 121\Omega\)</span> . If the supply is <span class="math inline">\(10.0\mathrm{V}\)</span> , find the voltage offset.</p>
</section>
<section id="solution-3" class="level2">
<h2 class="anchored" data-anchor-id="solution-3">Solution</h2>
<p>Assuming the detector impedance to be very high, we find the offset from</p>
<p><span class="math display">\[
\Delta V = V \frac {R _ {3} R _ {2} - R _ {1} R _ {4}}{\left(R _ {1} + R _ {3}\right) \cdot \left(R _ {2} + R _ {4}\right)}
\]</span></p>
<p><span class="math display">\[
\Delta V = 1 0 \mathrm {V} \frac {(1 2 0 \Omega) (1 2 0 \Omega) - (1 2 0 \Omega) (1 2 1 \Omega)}{(1 2 0 \Omega + 1 2 0 \Omega) \cdot (1 2 0 \Omega + 1 2 1 \Omega)}
\]</span></p>
<p><span class="math display">\[
\Delta V = - 2 0. 7 \mathrm {m V}
\]</span></p>
<p>Notice that the result in Example 4 is a negative voltage. Remember that <span class="math inline">\(\Delta V\)</span> is simply the difference between <span class="math inline">\(V_{a}\)</span> and <span class="math inline">\(V_{b}\)</span> in Figure 5, as given by Equation (3). So the fact that <span class="math inline">\(\Delta V\)</span> is negative in this example simply means that <span class="math inline">\(V_{b}\)</span> is larger than <span class="math inline">\(V_{a}\)</span> .</p>
<p>Galvanometer Detector The use of a galvanometer as a null detector in the bridge circuit introduces some differences in our calculations because the detector resistance may be low and because we must determine the bridge offset as current offset. When the bridge is nulled, Equation (8) still defines the relationship between the resistors in the bridge arms. Equation (7) must be modified to allow determination of current drawn by the galvanometer when a null condition is not present. Perhaps the easiest way to determine this offset current is first to find the Thévenin equivalent circuit between points <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> of the bridge (as drawn in Figure 5 with the detector removed). The Thévenin voltage is simply the open-circuit voltage difference between points <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> of the circuit. But wait! Equation (7) is the open-circuit voltage, so</p>
<p><span class="math display">\[
V _ {\mathrm {T h}} = V \frac {R _ {3} R _ {2} - R _ {1} R _ {4}}{\left(R _ {1} + R _ {3}\right) \left(R _ {2} + R _ {4}\right)} \tag {9}
\]</span></p>
<p>FIGURE 6 When a galvanometer is used for a null detector, it is convenient to use the Thévenin equivalent circuit of the bridge.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/3a68ad2bd73b88e7860ed3c75152590c_MD5.jpg" class="img-fluid"></p>
<p>The Thévenin resistance is found by replacing the supply voltage by its internal resistance and calculating the resistance between terminals <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> of the network. We may assume that the internal resistance of the supply is negligible compared to the bridge arm resistances. It is left as an exercise for the reader to show that the Thévenin resistance seen at points <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> of the bridge is</p>
<p><span class="math display">\[
R _ {\mathrm {T h}} = \frac {R _ {1} R _ {3}}{R _ {1} + R _ {3}} + \frac {R _ {2} R _ {4}}{R _ {2} + R _ {4}} \tag {10}
\]</span></p>
<p>The Thévenin equivalent circuit for the bridge enables us to easily determine the current through any galvanometer with internal resistance, <span class="math inline">\(R_{G}\)</span> , as shown in Figure 6. In particular, the offset current is</p>
<p><span class="math display">\[
I _ {G} = \frac {V _ {\mathrm {T h}}}{R _ {\mathrm {T h}} + R _ {G}} \tag {11}
\]</span></p>
<p>Using this equation in conjunction with Equation (8) defines the Wheatstone bridge response whenever a galvanometer null detector is used.</p>
<p>EXAMPLE 5</p>
<p>A bridge circuit has resistance of <span class="math inline">\(R_{1} = R_{2} = R_{3} = 2.00\mathrm{k}\Omega\)</span> and <span class="math inline">\(R_{4} = 2.05\mathrm{k}\Omega\)</span> and a 5.00-V supply. If a galvanometer with a 50.0-Ω internal resistance is used for a detector, find the offset current.</p>
</section>
<section id="solution-4" class="level2">
<h2 class="anchored" data-anchor-id="solution-4">Solution</h2>
<p>From Equation (9), the offset voltage is <span class="math inline">\(V_{\mathrm{Th}}\)</span> .</p>
<p><span class="math display">\[
V _ {\mathrm {T h}} = 5 \mathrm {V} \frac {(2 \mathrm {k} \Omega) (2 \mathrm {k} \Omega) - (2 \mathrm {k} \Omega) (2 . 0 5 \mathrm {k} \Omega)}{(2 \mathrm {k} \Omega + 2 \mathrm {k} \Omega) (2 \mathrm {k} \Omega + 2 . 0 5 \mathrm {k} \Omega)}
\]</span></p>
<p><span class="math display">\[
V _ {\mathrm {T h}} = - 3 0. 9 \mathrm {m V}
\]</span></p>
<p>We next find the bridge Thévenin resistance from Equation (10):</p>
<p><span class="math display">\[
R _ {\mathrm {T h}} = \frac {(2 \mathrm {k} \Omega) (2 \mathrm {k} \Omega)}{(2 \mathrm {k} \Omega + 2 \mathrm {k} \Omega)} + \frac {(2 \mathrm {k} \Omega) (2 . 0 5 \mathrm {k} \Omega)}{(2 \mathrm {k} \Omega + 2 . 0 5 \mathrm {k} \Omega)}
\]</span></p>
<p><span class="math display">\[
R _ {\mathrm {T h}} = 2. 0 1 \mathrm {k} \Omega
\]</span></p>
<p>Finally, the current is given by Equation (11):</p>
<p><span class="math display">\[
I _ {G} = \frac {- 3 0 . 9 \mathrm {m V}}{2 . 0 1 \mathrm {k} \Omega + 0 . 0 5 \mathrm {k} \Omega}
\]</span></p>
<p><span class="math display">\[
I _ {G} = - 1 5. 0 \mu \mathrm {A}
\]</span></p>
<p>The negative sign on the current simply means that the current flows through the galvanometer from right to left (i.e., from point <span class="math inline">\(b\)</span> to point <span class="math inline">\(a\)</span> in the circuit of Figure 5).</p>
<p>Bridge Resolution The resolution of the bridge circuit is a function of the resolution of the detector used to determine the bridge offset. Thus, referring to the case where a voltage offset occurs, we define the resolution in resistance as that resistance change in one arm of the bridge that causes an offset voltage that is equal to the resolution of the detector. If a detector can measure a change of <span class="math inline">\(100\mu \mathrm{V}\)</span> , this sets a limit on the minimum measurable resistance change in a bridge using this detector. In general, once given the detector resolution, we may use Equation (7) to find the change in resistance that causes this offset.</p>
<p>EXAMPLE 6</p>
<p>A bridge circuit has <span class="math inline">\(R_{1} = R_{2} = R_{3} = R_{4} = 120.0 - \Omega\)</span> resistances and a <span class="math inline">\(10.0\mathrm{-V}\)</span> supply. Clearly, the bridge is nulled, as Equation (8) shows. Suppose a <span class="math inline">\(3\frac{1}{2}\)</span> digit DVM on a <span class="math inline">\(200\mathrm{-mV}\)</span> scale will be used for the null detector. Find the resistance resolution for measurements of <span class="math inline">\(R_{4}\)</span> .</p>
</section>
<section id="solution-5" class="level2">
<h2 class="anchored" data-anchor-id="solution-5">Solution</h2>
<p>On a <span class="math inline">\(200\mathrm{-mV}\)</span> scale, the DVM measures from 000.0 to <span class="math inline">\(199.9\mathrm{mV}\)</span> , so the smallest measurable change is <span class="math inline">\(0.1\mathrm{mV}\)</span> , or <span class="math inline">\(100\mu \mathrm{V}\)</span> . So, we need to find out how much <span class="math inline">\(R_{4}\)</span> has changed from <span class="math inline">\(120\Omega\)</span> to create this much off null voltage.</p>
<p>We simply use Equation (6), with <span class="math inline">\(R_{4}\)</span> changed to some unknown value so that <span class="math inline">\(100\mu \mathrm{V}\)</span> results:</p>
<p><span class="math display">\[
1 0 0 \mu \mathrm {V} = \frac {(1 2 0 \Omega) (1 0 \mathrm {V})}{1 2 0 \Omega + 1 2 0 \Omega} - \frac {R _ {4} (1 0 \mathrm {V})}{1 2 0 \Omega + R _ {4}}
\]</span></p>
<p>This equation is a bit of an algebraic challenge to solve, but eventually we find</p>
<p><span class="math display">\[
R _ {4} = 1 1 9. 9 9 5 2 \Omega
\]</span></p>
<p>So the smallest change in resistance that can be measured is</p>
<p><span class="math display">\[
\Delta R _ {4} = 1 2 0 \Omega - 1 1 9. 9 9 5 2 \Omega = 0. 0 0 4 8 \Omega
\]</span></p>
<p>A bridge offset of <span class="math inline">\(+100\mu \mathrm{V}\)</span> is caused by a reduction of <span class="math inline">\(R_{4}\)</span> . It follows that a bridge offset of <span class="math inline">\(-100\mu \mathrm{V}\)</span> would be caused by an increase of <span class="math inline">\(R_{4}\)</span> .</p>
<p>In Example 6, we see that a minimum resistance change of <span class="math inline">\(0.0048\Omega\)</span> must occur before the detector indicates a change in offset voltage.</p>
<p>One may also view this as an overall accuracy of the instrument, because it can also be said that <span class="math inline">\(\Delta R\)</span> represents the uncertainty in any determination of resistance using the given bridge and detector.</p>
<p>The same arguments can be applied to a galvanometer measurement, where the resolution is limited by the minimum measurable current.</p>
<p>Lead Compensation In many process-control applications, a bridge circuit may be located at considerable distance from the sensor whose resistance changes are to be measured. In such cases, the remaining fixed bridge resistors can be chosen to account for the resistance of leads required to connect the bridge to the sensor. Furthermore, any measurement of resistance can be adjusted for lead resistance to determine the actual resistance. Another problem exists that is not so easily handled, however. There are many effects that can change the resistance of the long lead wires on a transient basis, such as frequency, temperature, stress, and chemical vapors. Such changes will show up as a bridge offset and be interpreted as changes in the sensor output. This problem is reduced using lead compensation, where any changes in lead resistance are introduced equally into two (both) arms of the bridge circuit, thus causing no effective change in bridge offset. Lead compensation is shown in Figure 7. Here we see that <span class="math inline">\(R_{4}\)</span> , which is assumed to be the sensor, has been removed to a remote location with lead wires (1), (2), and (3). Wire (3) is the power lead and has no influence on the bridge balance condition. If wire (2) changes in resistance because of spurious influences, it introduces this change into the <span class="math inline">\(R_{4}\)</span> leg of the bridge. Wire (1) is exposed to the same environment and changes by the same amount, but is in the <span class="math inline">\(R_{3}\)</span> leg of the bridge. Effectively, both <span class="math inline">\(R_{3}\)</span> and <span class="math inline">\(R_{4}\)</span> are identically changed, and thus Equation (8) shows that no change in the bridge null occurs. This type of compensation is often employed where bridge circuits must be used with long leads to the active element of the bridge.</p>
<p>Current Balance Bridge One disadvantage of the simple Wheatstone bridge is the need to obtain a null by variation of resistors in bridge arms. In the past, many process-control applications used a feedback system in which the bridge offset voltage was amplified and used to drive a motor whose shaft altered a variable resistor to renull the bridge. Such a system does not suit the modern technology of electronic processing because it is not very fast, is subject to wear, and generates electronic noise. A technique that provides for an electronic nulling of the bridge and that uses only fixed resistors (except as may be required for calibration) can be used with the bridge. This method uses a current to null the bridge. A closed-loop system can even be constructed that provides the bridge with a self-nulling ability.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/35f42bb4bf4971c67d7259c2cf3f5f5e_MD5.jpg" class="img-fluid"></p>
<p>FIGURE 7 For remote sensor applications, this compensation system is used to avoid errors from lead resistance.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/a1325db6a847fefe3a43438e81b7e088_MD5.jpg" class="img-fluid"></p>
<p>FIGURE 8 The current balance bridge.</p>
<p>The basic principle of the current balance bridge is shown in Figure 8. The standard Wheatstone bridge is modified by splitting one arm resistor into two, <span class="math inline">\(R_{4}\)</span> and <span class="math inline">\(R_{5}\)</span> . A current, <span class="math inline">\(I\)</span> , is fed into the bridge through the junction of <span class="math inline">\(R_{4}\)</span> and <span class="math inline">\(R_{5}\)</span> as shown. We now stipulate that the size of the bridge resistors is such that the current flows predominantly through <span class="math inline">\(R_{5}\)</span> . This can be provided for by any of several requirements. The least restrictive is to require</p>
<p><span class="math display">\[
R _ {4} \gg R _ {5} \tag {12}
\]</span></p>
<p>Often, if a high-impedance null detector is used, the restriction of Equation (12) becomes</p>
<p><span class="math display">\[
\left(R _ {2} + R _ {4}\right) \gg R _ {5} \tag {13}
\]</span></p>
<p>Assuming that either conditions of Equations (12) or (13) are satisfied, the voltage at point <span class="math inline">\(b\)</span> is the sum of the divided supply voltage plus the voltage dropped across <span class="math inline">\(R_{5}\)</span> from the current, <span class="math inline">\(I\)</span> .</p>
<p><span class="math display">\[
V _ {b} = \frac {V \left(R _ {4} + R _ {5}\right)}{R _ {2} + R _ {4} + R _ {5}} + I R _ {5} \tag {14}
\]</span></p>
<p>The voltage of point <span class="math inline">\(a\)</span> is still given by Equation (4). Thus, the bridge offset voltage is given by <span class="math inline">\(\Delta V = V_{a} - V_{b}\)</span> , or</p>
<p><span class="math display">\[
\Delta V = \frac {V R _ {3}}{R _ {1} + R _ {3}} - \frac {V \left(R _ {4} + R _ {5}\right)}{R _ {2} + R _ {4} + R _ {5}} - I R _ {5} \tag {15}
\]</span></p>
<p>This equation shows that a null is reached by adjusting the magnitude and polarity of the current <span class="math inline">\(I\)</span> until <span class="math inline">\(IR_{5}\)</span> equals the voltage difference of the first two terms. If one of the bridge</p>
<p>resistors changes, the bridge can be renulled by changing current <span class="math inline">\(I\)</span> . In this manner, the bridge is electronically nulled from any convenient current source. In most applications, the bridge is nulled at some nominal set of resistances with zero current. Changes of a bridge resistor are detected as a bridge offset signal that is used to provide the renulling current. The action is explained in Example 7.</p>
</section>
<section id="example-7" class="level2">
<h2 class="anchored" data-anchor-id="example-7">EXAMPLE 7</h2>
<p>A current balance bridge, as shown in Figure 8, has resistors <span class="math inline">\(R_{1} = R_{2} = 10 \mathrm{k}\Omega\)</span> , <span class="math inline">\(R_{4} = 950 \Omega\)</span> , <span class="math inline">\(R_{3} = 1 \mathrm{k}\Omega\)</span> , <span class="math inline">\(R_{5} = 50 \Omega\)</span> and a high-impedance null detector. Find the current required to null the bridge if <span class="math inline">\(R_{3}\)</span> changes by <span class="math inline">\(1 \Omega\)</span> . The supply voltage is <span class="math inline">\(10 \mathrm{~V}\)</span> .</p>
</section>
<section id="solution-6" class="level2">
<h2 class="anchored" data-anchor-id="solution-6">Solution</h2>
<p>First, for the nominal resistance values given, the bridge is at a null with <span class="math inline">\(I = 0\)</span> , because</p>
<p><span class="math display">\[
V _ {a} = \frac {(1 0 \mathrm {V}) (1 \mathrm {k} \Omega)}{1 0 \mathrm {k} \Omega + 1 \mathrm {k} \Omega}
\]</span></p>
<p><span class="math display">\[
V _ {a} = 0. 9 0 9 1 \mathrm {V}
\]</span></p>
<p>With <span class="math inline">\(I = 0\)</span> , Equation (14) gives</p>
<p><span class="math display">\[
V _ {b} = \frac {(1 0 \mathrm {V}) (9 5 0 \Omega + 5 0 \Omega)}{1 0 \mathrm {k} \Omega + 9 5 0 \Omega + 5 0 \Omega}
\]</span></p>
<p><span class="math display">\[
V _ {b} = 0. 9 0 9 1 \mathrm {V}
\]</span></p>
<p>When <span class="math inline">\(R_{3}\)</span> increases by <span class="math inline">\(1\Omega\)</span> to <span class="math inline">\(1001\Omega\)</span> , <span class="math inline">\(V_{a}\)</span> becomes</p>
<p><span class="math display">\[
V _ {a} = \frac {(1 0 \mathrm {V}) (1 0 0 1)}{1 0 \mathrm {k} \Omega + 1 0 0 1}
\]</span></p>
<p><span class="math display">\[
V _ {a} = 0. 9 0 9 9 \mathrm {V}
\]</span></p>
<p>which shows that the voltage at <span class="math inline">\(b\)</span> must increase by <span class="math inline">\(0.0008\mathrm{V}\)</span> or <span class="math inline">\(0.8\mathrm{mV}\)</span> to renull the bridge. This can be provided by a current, from Equation (15) and <span class="math inline">\(\Delta V = 0\)</span> , found from <span class="math inline">\(50I = 0.8\mathrm{mV}\)</span> .</p>
<p><span class="math display">\[
I = 1 6. 0 \mu \mathrm {A}
\]</span></p>
<p>Potential Measurements Using Bridges A bridge circuit is also useful to measure small potentials at a very high impedance, using either a conventional Wheatstone bridge or a current balance bridge. This type of measurement is performed by placing the potential to be measured in series with the detector, as shown in Figure 9. The null detector responds to the potential between points <span class="math inline">\(c\)</span> and <span class="math inline">\(b\)</span> . In this case, <span class="math inline">\(V_{b}\)</span> is given by Equation (14) and <span class="math inline">\(V_{c}\)</span> by</p>
<p><span class="math display">\[
V _ {c} = V _ {x} + V _ {a} \tag {16}
\]</span></p>
<p>where <span class="math inline">\(V_{a}\)</span> is given by Equation (4), and <span class="math inline">\(V_{x}\)</span> is the potential to be measured. The voltage appearing across the null detector is</p>
<p><span class="math display">\[
\Delta V = V _ {c} - V _ {b} = V _ {x} + V _ {a} - V _ {b}
\]</span></p>
<p>FIGURE 9 Using the basic Wheatstone bridge for potential measurement.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/2338992f617a69f62ab6240e2ac0cfa5_MD5.jpg" class="img-fluid"></p>
<p>A null condition is established when <span class="math inline">\(\Delta V = 0\)</span> ; furthermore, no current flows through the unknown potential when such a null is found. Thus, <span class="math inline">\(V_{x}\)</span> can be measured by varying the bridge resistors to provide a null with <span class="math inline">\(V_{x}\)</span> in the circuit and solving for <span class="math inline">\(V_{x}\)</span> using the null condition</p>
<p><span class="math display">\[
V _ {x} + \frac {R _ {3} V}{R _ {1} + R _ {3}} - \frac {V R _ {4}}{R _ {2} + R _ {4}} = 0 \tag {17}
\]</span></p>
<p>The current balance bridge of Figure 8 can also be used for potential measurement with no current through the potential to be measured. Here again, the potential is placed in series with the detector, and <span class="math inline">\(\Delta V\)</span> is defined exactly as before. Now, however, <span class="math inline">\(V_{b}\)</span> is given by Equation (14), so the null condition becomes</p>
<p><span class="math display">\[
V _ {x} + \frac {R _ {3} V}{R _ {1} + R _ {3}} - \frac {V \left(R _ {4} + R _ {5}\right)}{R _ {2} + R _ {4} + R _ {5}} - I R _ {5} = 0 \tag {18}
\]</span></p>
<p>If the fixed resistors are chosen to null the bridge with <span class="math inline">\(I = 0\)</span> when <span class="math inline">\(V_{x} = 0\)</span> , then the two middle terms in Equation (18) cancel, leaving a very simple relationship between <span class="math inline">\(V_{x}\)</span> and the nulling current:</p>
<p><span class="math display">\[
V _ {x} - I R _ {5} = 0 \tag {19}
\]</span></p>
<p>EXAMPLE A bridge circuit for potential measurement nulls when <span class="math inline">\(R_{1} = R_{2} = 1\)</span> kΩ, <span class="math inline">\(R_{3} = 605 \Omega\)</span> , and <span class="math inline">\(R_{4} = 500 \Omega\)</span> with a 10-V supply. Find the unknown potential.</p>
<p>Solution Here we simply use Equation (17) to solve for <span class="math inline">\(V_{x}\)</span></p>
<p><span class="math display">\[
V _ {x} + \frac {(6 0 5) (1 0)}{6 0 5 + 1 0 0 0} - \frac {(1 0) (5 0 0)}{1 0 0 0 + 5 0 0} = 0
\]</span></p>
<p><span class="math display">\[
V _ {x} + 3. 7 6 9 - 3. 3 3 3 = 0
\]</span></p>
<p><span class="math display">\[
V _ {x} = - 0. 4 3 6 \mathrm {V}
\]</span></p>
<p>The negative sign tells us the polarity of the unknown voltage, <span class="math inline">\(V_{x}\)</span> . Since <span class="math inline">\(V_{x}\)</span> numerically subtracts from <span class="math inline">\(V_{a}\)</span> , we see that its positive terminal must be connected to point <span class="math inline">\(a\)</span> in Figure 9.</p>
</section>
<section id="example-9" class="level2">
<h2 class="anchored" data-anchor-id="example-9">EXAMPLE 9</h2>
<p>A current balance bridge is used for potential measurement. The fixed resistors are <span class="math inline">\(R_{1} = R_{2} = 5 \, \mathrm{k}\Omega\)</span> , <span class="math inline">\(R_{3} = 1 \, \mathrm{k}\Omega\)</span> , <span class="math inline">\(R_{4} = 990 \, \Omega\)</span> , and <span class="math inline">\(R_{5} = 10 \, \Omega\)</span> with a 10-V supply. Find the current necessary to null the bridge if the potential is <span class="math inline">\(12 \, \mathrm{mV}\)</span> .</p>
</section>
<section id="solution-7" class="level2">
<h2 class="anchored" data-anchor-id="solution-7">Solution</h2>
<p>First, an examination of the resistances shows that the bridge is nulled when <span class="math inline">\(I = 0\)</span> and <span class="math inline">\(V_{x} = 0\)</span> because, from Equation (18),</p>
<p><span class="math display">\[
\frac {V R _ {3}}{R _ {1} + R _ {3}} = \frac {1 0 (1 \mathrm {k})}{1 \mathrm {k} + 5 \mathrm {k}} = 1. 6 6 7 \mathrm {V}
\]</span></p>
<p>and</p>
<p><span class="math display">\[
\frac {V \left(R _ {4} + R _ {5}\right)}{R _ {2} + R _ {4} + R _ {5}} = \frac {1 0 (9 9 0 + 1 0)}{5 \mathrm {k} + 9 9 0 + 1 0} = 1. 6 6 7 \mathrm {V}
\]</span></p>
<p>Thus, we can use Equation (19):</p>
<p><span class="math display">\[
\begin{array}{r l} 1 2 \mathrm {m V} - 1 0 I &amp; = 0 \\ I &amp; = 1. 2 \mathrm {m A} \end{array}
\]</span></p>
<p>ac Bridges The bridge concept described in this section can be applied to the matching of impedances in general, as well as to resistances. In this case, the bridge is represented as in Figure 10 and employs an ac excitation, usually a sine wave voltage signal. The analysis of bridge behavior is basically the same as in the previous treatment, but impedances replace resistances. The bridge offset voltage then is represented as</p>
<p><span class="math display">\[
\Delta E = E \frac {Z _ {3} Z _ {2} - Z _ {1} Z _ {4}}{\left(Z _ {1} + Z _ {3}\right) \left(Z _ {2} + Z _ {4}\right)}
\]</span></p>
<p><span class="math display">\[
\Delta E = \text {a c o f s e t v o l t a g e} \tag {20}
\]</span></p>
<p>FIGURE 10 A general ac bridge circuit.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/1b36f0c4657249c3d65087936f7ce129_MD5.jpg" class="img-fluid"></p>
<p>where <span class="math inline">\(E =\)</span> sine wave excitation voltage</p>
<p><span class="math inline">\(Z_{1}, Z_{2}, Z_{3}, Z_{4} =\)</span> bridge impedances</p>
<p>A null condition is defined as before by a zero offset voltage <span class="math inline">\(\Delta E = 0\)</span> . From Equation (20), this condition is met if the impedances satisfy the relation</p>
<p><span class="math display">\[
Z _ {3} Z _ {2} = Z _ {1} Z _ {4} \tag {21}
\]</span></p>
<p>This condition is analogous to Equation (8) for resistive bridges.</p>
<p>A special note is necessary concerning the achievement of a null in ac bridges. In some cases, the null detection system is phase sensitive with respect to the bridge excitation signal. In these instances, it is necessary to provide a null of both the in-phase and quadrature <span class="math inline">\((90^{\circ}\)</span> out-of-phase) signals before Equation (21) applies.</p>
</section>
<section id="example-10" class="level2">
<h2 class="anchored" data-anchor-id="example-10">EXAMPLE 10</h2>
<p>An ac bridge employs impedances as shown in Figure 11. Find the value of <span class="math inline">\(R_{x}\)</span> and <span class="math inline">\(C_x\)</span> when the bridge is nulled.</p>
</section>
<section id="solution-8" class="level2">
<h2 class="anchored" data-anchor-id="solution-8">Solution</h2>
<p>Because the bridge is at null, we have</p>
<p><span class="math display">\[
Z _ {2} Z _ {3} = Z _ {1} Z _ {x}
\]</span></p>
<p>or</p>
<p><span class="math display">\[
R _ {2} \left(R _ {3} - \frac {j}{\omega C}\right) = R _ {1} \left(R _ {x} - \frac {j}{\omega C _ {x}}\right)
\]</span></p>
<p><span class="math display">\[
R _ {2} R _ {3} - j \frac {R _ {2}}{\omega C} = R _ {1} R _ {x} - \frac {j R _ {1}}{\omega C _ {x}}
\]</span></p>
<p>The real and imaginary parts must be independently equal, so that</p>
<p><span class="math display">\[
R _ {x} - \frac {R _ {2} R _ {3}}{R _ {1}} = 0
\]</span></p>
<p><span class="math display">\[
R _ {x} = \frac {(2 k \Omega) (1 k \Omega)}{1 k \Omega}
\]</span></p>
<p><span class="math display">\[
R _ {x} = 2 \mathrm {k} \Omega
\]</span></p>
<p>FIGURE 11 The ac bridge circuit and components for</p>
<p>Example 10.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/9ea1399b6b93f383f50ae8fffc3d03f3_MD5.jpg" class="img-fluid"></p>
<p>and</p>
<p><span class="math display">\[
C _ {x} = C \frac {R _ {1}}{R _ {2}}
\]</span></p>
<p><span class="math display">\[
C _ {x} = (1 \mu \mathrm {F}) \frac {1 \mathrm {k} \Omega}{2 \mathrm {k} \Omega}
\]</span></p>
<p><span class="math display">\[
C _ {x} = 0. 5 \mu \mathbf {F}
\]</span></p>
<p>Bridge Applications The primary application of bridge circuits in modern process-control signal conditioning is to convert variations of resistance into variations of voltage. This voltage variation is then further conditioned for interface to an ADC or other system. It is thus important to note that the variation of bridge offset as given by Equation (7) is nonlinear with respect to any of the resistors. The same nonlinearity is present in ac bridge offset as given by Equation (20). Thus, if a sensor has an impedance that is linear with respect to the variable being measured, such linearity is lost when a bridge is used to convert this to a voltage variation. Figure 12a shows how <span class="math inline">\(\Delta V\)</span> varies with <span class="math inline">\(R_{4}\)</span> for a bridge with <span class="math inline">\(R_{1} = R_{2} = R_{3} = 100\Omega\)</span> and <span class="math inline">\(V = 10\mathrm{V}\)</span> . Note the nonlinearity of <span class="math inline">\(\Delta V\)</span> with <span class="math inline">\(R_{4}\)</span> as it varies from 0 to <span class="math inline">\(500\Omega\)</span> .</p>
<p>If the range of resistance variation is small and centered about the null value, then the nonlinearity of voltage versus resistance is small. Figure 12b shows that if the range of variation of <span class="math inline">\(R_{4}\)</span> is small (90 to <span class="math inline">\(110\Omega\)</span> ), then the variation of <span class="math inline">\(\Delta V\)</span> with <span class="math inline">\(R_{4}\)</span> , on an expanded scale, is relatively linear. Amplifiers can be used to amplify this voltage variation, since it is centered about zero, to a useful range.</p>
<p>FIGURE 12 (a) Bridge off-null voltage is clearly nonlinear for large-scale changes in resistance. (b) However, for small ranges of resistance change, the off-null voltage is nearly linear.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/4599c5b3fd953522b4ab65881379a10b_MD5.jpg" class="img-fluid"></p>
<ol type="a">
<li></li>
</ol>
<p><img src="Books/Johnson_PCIT/chapter_2/306cd4b311354cdc0c0d43f89284d62f_MD5.jpg" class="img-fluid"></p>
<ol start="2" type="a">
<li></li>
</ol>
<p>FIGURE 13 Circuit for the low-pass RC filter.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/086deabbf469a5f1dd19d23b4d132cbe_MD5.jpg" class="img-fluid"></p>
</section>
<section id="rc-filters" class="level2">
<h2 class="anchored" data-anchor-id="rc-filters">3.3 RC Filters</h2>
<p>To eliminate unwanted noise signals from measurements, it is often necessary to use circuits that block certain frequencies or bands of frequencies. These circuits are called filters. A simple filter can be constructed from a single resistor and a single capacitor.</p>
<p>Low-pass RC Filter The simple circuit shown in Figure 13 is called a low-pass RC filter. It is called low-pass because it blocks high frequencies and passes low frequencies. It would be most desirable if a low-pass filter had a characteristic such that all signals with frequency above some critical value are simply rejected. Practical filter circuits approach that ideal with varying degrees of success.</p>
<p>In the case of the low-pass <span class="math inline">\(RC\)</span> filter, the variation of rejection with frequency is shown in Figure 14. In this graph, the vertical is the ratio of output voltage to input voltage without regard to phase. When this ratio is one, the signal is passed without effect; when it is very small or zero, the signal is effectively blocked.</p>
<p>The horizontal is actually the logarithm of the ratio of the input signal frequency to a critical frequency. This critical frequency is that frequency for which the ratio of the output to the input voltage is approximately 0.707. In terms of the resistor and capacitor, the critical frequency is given by</p>
<p><span class="math display">\[
f _ {c} = 1 / (2 \pi R C) \tag {22}
\]</span></p>
<p><img src="Books/Johnson_PCIT/chapter_2/83a5c601bc09fe1929ceb199bfc35b46_MD5.jpg" class="img-fluid"></p>
<p>FIGURE 14 Response of the low-pass <span class="math inline">\(RC\)</span> filter as a function of the frequency ratio.</p>
<p>The output-to-input voltage ratio for any signal frequency can be determined graphically from Figure 14 or can be computed by</p>
<p><span class="math display">\[
\left| \frac {V _ {\text {o u t}}}{V _ {\text {i n}}} \right| = \frac {1}{\left[ 1 + (f / f _ {c}) ^ {2} \right] ^ {1 / 2}} \tag {23}
\]</span></p>
<p>Design Methods A typical filter design is accomplished by finding the critical frequency, <span class="math inline">\(f_{c}\)</span> , that will satisfy the design criteria. The resistor and capacitor are then determined to provide the required critical frequency from Equation (22). Because there are two unknowns ( <span class="math inline">\(R\)</span> and <span class="math inline">\(C\)</span> ) but only one equation, we can often just select one of the component values and compute the other. Often the capacitor is selected and the required resistor value is computed from Equation (22). The following practical guidelines are offered on this process:</p>
<ol type="1">
<li>Select a standard capacitor value in the <span class="math inline">\(\mu \mathrm{F}\)</span> to pF range.</li>
<li>Calculate the required resistance value. If it is below <span class="math inline">\(1\mathrm{k}\Omega\)</span> or above <span class="math inline">\(1\mathrm{M}\Omega\)</span> , try a different value of capacitor so that the required resistance falls within this range, which will avoid noise and loading problems.</li>
<li>If design flexibility allows, use the nearest standard value of resistance to that calculated.</li>
<li>Always remember that components such as resistors and capacitors have a tolerance in their indicated values. This must be considered in your design. Quite often, capacitors have a tolerance as high as <span class="math inline">\(\pm 20\%\)</span> .</li>
<li>If exact values are necessary, it is usually easiest to select a capacitor, measure its value, and then calculate the value of the required resistance. Then a trimmer (variable) resistor can be used to obtain the required value.</li>
</ol>
</section>
<section id="example-11" class="level2">
<h2 class="anchored" data-anchor-id="example-11">EXAMPLE 11</h2>
<p>A measurement signal has a frequency <span class="math inline">\(&lt; 1\mathrm{kHz}\)</span> , but there is unwanted noise at about <span class="math inline">\(1\mathrm{MHz}\)</span> . Design a low-pass filter that attenuates the noise to <span class="math inline">\(1\%\)</span> . What is the effect on the measurement signal at its maximum of <span class="math inline">\(1\mathrm{kHz}\)</span> ?</p>
</section>
<section id="solution-9" class="level2">
<h2 class="anchored" data-anchor-id="solution-9">Solution</h2>
<p>Use Equation (23) to determine what critical frequency will give <span class="math inline">\(\left( {{V}_{\text{out }}/{V}_{\text{in }}}\right)  = {0.01}\)</span> at <span class="math inline">\(1\mathrm{{MHz}}\)</span> . To do this,we have the relationship</p>
<p><span class="math display">\[
0. 0 1 = \frac {1}{\left[ 1 + \left(1 \mathrm {M H z} / f _ {c}\right) ^ {2} \right] ^ {1 / 2}}
\]</span></p>
<p>which gives us</p>
<p><span class="math display">\[
\left(1 \mathrm {M H z} / f _ {c}\right) ^ {2} = 9 9 9 9
\]</span></p>
<p>or</p>
<p><span class="math display">\[
f _ {c} = 1 0 \mathrm {k H z}
\]</span></p>
<p>Let’s try a capacitor of <span class="math inline">\(0.47\mu \mathrm{F}\)</span> . Then Equation (22) can be used to solve for the required resistance,</p>
<p><span class="math display">\[
R = \frac {1}{(2 \pi) (1 0 ^ {4} \mathrm {H z}) (0 . 4 7 \times 1 0 ^ {- 6} \mathrm {F})} = 3 3. 9 \Omega
\]</span></p>
<p>This is a very small resistance, which could lead to excessive current and loading. So we try a smaller value of capacity, which will result in a larger value of resistance. Let’s try <span class="math inline">\(0.01\mu \mathrm{F}\)</span> :</p>
<p><span class="math display">\[
R = \frac {1}{(2 \pi) (1 0 ^ {4} \mathrm {H z}) (0 . 0 1 \times 1 0 ^ {- 6} \mathrm {F})} = 1 5 9 1 \Omega
\]</span></p>
<p>This value is much more practical. Now suppose we try a standard value of resistance of <span class="math inline">\(1.5\mathrm{k}\Omega\)</span> . This will give an actual critical frequency of</p>
<p><span class="math display">\[
f _ {c} = \frac {1}{(2 \pi) (1 5 0 0 \Omega) (1 0 ^ {- 2} \mathrm {F})} = 1 0, 6 1 0 \mathrm {H z}
\]</span></p>
<p>which is a <span class="math inline">\(6\%\)</span> difference. So the noise at <span class="math inline">\(1\mathrm{MHz}\)</span> would be down by</p>
<p><span class="math display">\[
\left| \frac {V _ {\text {o u t}}}{V _ {\text {i n}}} \right| = \frac {1}{[ 1 + (1 \mathrm {M H z} / 1 0 , 6 1 0 \mathrm {H z}) ^ {2} ] ^ {1 / 2}} = 0. 0 0 9 9 9 9 5
\]</span></p>
<p>instead of 0.01 as specified.</p>
<p>To check the effect of our filter on the signal at <span class="math inline">\(1\mathrm{kHz}\)</span> , we have</p>
<p><span class="math display">\[
\left| \frac {V _ {\text {o u t}}}{V _ {\text {i n}}} \right| = \frac {1}{[ 1 + (1 \mathrm {k H z} / 1 0 . 6 1 \mathrm {k H z}) ^ {2} ] ^ {1 / 2}} = 0. 9 9 6
\]</span></p>
<p>Thus, the data have been reduced by about <span class="math inline">\(0.4\%\)</span> .</p>
<p>High-Pass RC Filter A high-pass filter passes high frequencies (no rejection) and blocks (rejects) low frequencies. A filter of this type can be constructed using a resistor and a capacitor, as shown in the schematic of Figure 15. Similar to the low-pass filter, the rejection is not sharp in frequency but distributed over a range around a critical frequency. This critical frequency is defined by the same value—Equation (22)—as for the low-pass filter.</p>
<p>The graph of voltage output to input versus logarithm of frequency to critical frequency is shown in Figure 16. Note that the magnitude of <span class="math inline">\(V_{\mathrm{out}} / V_{\mathrm{in}} = 0.707\)</span> when the frequency is equal to the critical frequency.</p>
<p>FIGURE 15 Circuit for the high-pass RC filter.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/d8ccc3841d7c8cea26d4bf4283ee5d39_MD5.jpg" class="img-fluid"></p>
<p><img src="Books/Johnson_PCIT/chapter_2/f5e74245c981b5287154988893333951_MD5.jpg" class="img-fluid"></p>
<p>FIGURE 16 Response of the high-pass <span class="math inline">\(RC\)</span> filter as a function of frequency ratio.</p>
<p>An equation for the ratio of output voltage to input voltage as a function of the frequency for the high-pass filter is found to be</p>
<p><span class="math display">\[
\left| V _ {\text {o u t}} / V _ {\text {i n}} \right| = \frac {(f / f _ {c})}{[ 1 + (f / f _ {c}) ^ {2} ] ^ {1 / 2}} \tag {24}
\]</span></p>
<p>EXAMPLE 12 Pulses for a stepping motor are being transmitted at <span class="math inline">\(2000\mathrm{Hz}\)</span> . Design a filter to reduce 60-Hz noise but reduce the pulses by no more than 3 dB.</p>
</section>
<section id="solution-10" class="level2">
<h2 class="anchored" data-anchor-id="solution-10">Solution</h2>
<p>Let us first find what voltage ratio corresponds to a 3-dB reduction. We remember that</p>
<p><span class="math display">\[
P (\mathrm {d B}) = 2 0 \log \left(V _ {\text {o u t}} / V _ {\text {i n}}\right)
\]</span></p>
<p>so “down by 3 dB” means that <span class="math inline">\(P = -3\)</span> . Therefore,</p>
<p><span class="math display">\[
(V _ {\mathrm {o u t}} / V _ {\mathrm {i n}}) = 1 0 ^ {- 3 / 2 0} = 0. 7 0 7
\]</span></p>
<p>You probably saw that coming. The critical frequency is that frequency for which the output is attenuated by 3 dB. Thus, in this case, <span class="math inline">\(f_{c} = 2\mathrm{kHz}\)</span> . The effect on 60-Hz noise is found using Equation (24), with <span class="math inline">\(f = 60\mathrm{Hz}\)</span> .</p>
<p><span class="math display">\[
V _ {\text {o u t}} / V _ {\text {i n}} = \frac {(6 0 / 2 0 0 0)}{\left[ 1 + (6 0 / 2 0 0 0) ^ {2} \right] ^ {1 / 2}}
\]</span></p>
<p><span class="math display">\[
V _ {\text {o u t}} / V _ {\text {i n}} = 0. 0 3
\]</span></p>
<p>Thus, we see that only <span class="math inline">\(3\%\)</span> of the 60-Hz noise remains; that is, it has been reduced by <span class="math inline">\(97\%\)</span> .</p>
<p>Let’s try a capacitor of <span class="math inline">\(0.01\mu \mathrm{F}\)</span> . Then Equation (22) shows that the resistor should have a value of <span class="math inline">\(7.96\mathrm{k}\Omega\)</span> . Perhaps design criteria would allow use of either a <span class="math inline">\(7.5\mathrm{-k}\Omega\)</span> or <span class="math inline">\(8.2\mathrm{-k}\Omega\)</span> resistor, because these are standard values.</p>
<p>Practical Considerations There are a number of issues that arise when designing a system which will use the high-pass or low-pass <span class="math inline">\(RC\)</span> filters. Consider the following items:</p>
<ol type="1">
<li>After the critical frequency is determined, the values of <span class="math inline">\(R\)</span> and <span class="math inline">\(C\)</span> are selected to satisfy Equation (22). In principle, any values of <span class="math inline">\(R\)</span> and <span class="math inline">\(C\)</span> can be employed that will satisfy this critical frequency equation. A number of practical issues limit the selection, however. Some of these are:</li>
</ol>
<ol type="a">
<li><p>Very small values of resistance are to be avoided because they can lead to large currents, and thus large loading effects. Similarly, very large capacitance should be avoided. In general, we try to keep the resistance in the <span class="math inline">\(\mathrm{k}\Omega\)</span> and above range and capacitors in the <span class="math inline">\(\mu \mathrm{F}\)</span> or less range.</p></li>
<li><p>Often, the exact critical frequency is not important, so that fixed resistors and capacitors of approximately the computed values can be employed. If exact values are necessary, it is usually easier to select and measure a capacitor, then compute and obtain the appropriate resistance using a trimmer resistance.</p></li>
</ol>
<ol type="1">
<li>The effective input impedance and output impedance of the <span class="math inline">\(RC\)</span> filter may have an effect on the circuit in which it is used because of loading effects. If the input impedance of the circuit being fed by the filter is low, you may want to place a voltage follower (see Section 5) between the filter output and the next stage. Similarly, if the output impedance of the feeding stage to the filter is high, you may want to isolate the input of the filter with a voltage follower.</li>
<li>It is possible to cascade <span class="math inline">\(RC\)</span> filters in series to obtain improved sharpness of the filter cutoff frequency. However, it is important to consider the loading of one <span class="math inline">\(RC\)</span> stage by another. The output impedance of the first-stage filter must be much less than the input impedance of the next stage to avoid loading.</li>
</ol>
<p>Apart from loading, cascading filters raises the filter equation by a power of the number cascaded. Thus, two high-pass filters of the same critical frequency would respond by Equation (24) squared.</p>
<p>EXAMPLE 13</p>
<p>A 2-kHz data signal is contaminated by <span class="math inline">\(60\mathrm{Hz}\)</span> of noise. Compare a single-stage and a two-stage high-pass <span class="math inline">\(RC\)</span> filter for reducing the noise by <span class="math inline">\(60~\mathrm{dB}\)</span> . What effect does each have on the data signal? (Ignore loading.)</p>
</section>
<section id="solution-11" class="level2">
<h2 class="anchored" data-anchor-id="solution-11">Solution</h2>
<p>An attenuation of <span class="math inline">\(60~\mathrm{dB}\)</span> means that the output-to-input voltage ratio at <span class="math inline">\(60\mathrm{Hz}\)</span> will be</p>
<p><span class="math display">\[
2 0 \log_ {1 0} (V _ {\text {o u t}} / V _ {\text {i n}}) = - 6 0
\]</span></p>
<p><span class="math display">\[
V _ {\mathrm {o u t}} / V _ {\mathrm {i n}} = 1 0 ^ {- 3}
\]</span></p>
<p>FIGURE 17 Cascaded high-pass RC filter for Example 13.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/caf4393116523e1901b6f094baf2171b_MD5.jpg" class="img-fluid"></p>
<p>For the single stage, we use Equation (24) to find the critical frequency that will give this attenuation:</p>
<p><span class="math display">\[
0. 0 0 1 = \frac {(6 0 / f _ {c})}{\sqrt {1 + (6 0 / f _ {c}) ^ {2}}}
\]</span></p>
<p>Solving this for the critical frequency gives <span class="math inline">\(f_{c} = 60\mathrm{kHz}\)</span> . To see what effect this has on the data signal, we evaluate Equation (24) at <span class="math inline">\(2\mathrm{kHz}\)</span> ,</p>
<p><span class="math display">\[
\frac {V _ {\text {o u t}}}{V _ {\text {i n}}} = \frac {(2 \mathrm {k H z} / 6 0 \mathrm {k H z})}{\sqrt {1 + (2 \mathrm {k H z} / 6 0 \mathrm {k H z}) ^ {2}}} = 0. 0 3 3
\]</span></p>
<p>Thus, only about <span class="math inline">\(3.3\%\)</span> of the data signal is left!</p>
<p>Now, for the cascaded <span class="math inline">\(RC\)</span> filter we have two high-pass <span class="math inline">\(RC\)</span> filters in series, each with the same critical frequency. If the filters are independent—that is, if the output impedance of the first is much less than the input impedance of the second—the total response will be Equation (24) squared. Therefore, to get 60-dB reduction, we have</p>
<p><span class="math display">\[
0. 0 0 1 = \frac {(6 0 / f _ {c}) ^ {2}}{1 + (6 0 / f _ {c}) ^ {2}}
\]</span></p>
<p>Solving this for the critical frequency gives <span class="math inline">\(f_{c} = 1896\mathrm{Hz}\)</span> . The effect on the data signal is found by evaluating Equation (24) squared at <span class="math inline">\(2\mathrm{kHz}\)</span> with this critical frequency:</p>
<p><span class="math display">\[
\frac {V _ {\mathrm {o u t}}}{V _ {\mathrm {i n}}} = \frac {(2 \mathrm {k H z} / 1 8 9 6 \mathrm {H z}) ^ {2}}{1 + (2 \mathrm {k H z} / 1 8 9 6 \mathrm {H z}) ^ {2}} = 0. 5 3
\]</span></p>
<p>Thus, about <span class="math inline">\(53\%\)</span> of the data signal is retained, which is a great improvement over the single stage. Each stage contributes an attenuation of <span class="math inline">\((0.53)^{1/2} = 0.73\)</span> . If the impedance condition is not satisfied, there will be loading of the first stage by the second and greater overall attenuation of the data signal. Figure 17 shows the circuit.</p>
</section>
<section id="example-14" class="level2">
<h2 class="anchored" data-anchor-id="example-14">EXAMPLE 14</h2>
<p>Suppose we require the first stage of Example 13 to use a capacitor of <span class="math inline">\(C = 0.001\mu \mathrm{F}\)</span> . Find the appropriate value of resistance, <span class="math inline">\(R\)</span> . Suppose these same values are used for the second stage. How much further attenuation occurs at <span class="math inline">\(2\mathrm{kHz}\)</span> because of loading? What output impedance does the series filter present? Assume the <span class="math inline">\(V_{\mathrm{in}}\)</span> source resistance is very small.</p>
</section>
<section id="solution-12" class="level2">
<h2 class="anchored" data-anchor-id="solution-12">Solution</h2>
<p>The value of <span class="math inline">\(R\)</span> is found from the equation for critical frequency, Equation (22).</p>
<p><span class="math display">\[
R = (2 \pi f _ {c} C) ^ {- 1} = [ (2 \pi) (1 8 9 6 \mathrm {H z}) (0. 0 0 1 \mu \mathrm {F}) ] ^ {- 1}
\]</span></p>
<p><span class="math display">\[
R = 8 3. 9 k \Omega
\]</span></p>
<p>To study the loading effect, we compute the reactance of the capacitor at <span class="math inline">\(2\mathrm{kHz}\)</span></p>
<p><span class="math display">\[
X = (2 \pi f C) ^ {- 1} = [ (2 \pi) (2 0 0 0 \mathrm {H z}) (0. 0 0 1 \mu \mathrm {F}) ] ^ {- 1}
\]</span></p>
<p><span class="math display">\[
X = 7 9. 6 \mathrm {k} \Omega
\]</span></p>
<p>Figure 18a shows the filter drawn with the elements replaced by their complex impedances, in polar form, at <span class="math inline">\(2\mathrm{kHz}\)</span> . In Example 13, we saw that the first stage alone had an output at <span class="math inline">\(2\mathrm{kHz}\)</span> of <span class="math inline">\(V_{\mathrm{out}} = 0.73V_{\mathrm{in}}\)</span> . Now we will calculate how much this first-stage output voltage will be loaded by the second filter, which has an input impedance of <span class="math inline">\(83.9\mathrm{k}\Omega - j79.6\mathrm{k}\Omega = 115.65\mathrm{k}\Omega \angle -43.5^{\circ}\)</span> . The first filter and source can be replaced by its Thévenin equivalent circuit where the Thévenin voltage is simply <span class="math inline">\(0.73V_{\mathrm{in}}\)</span> and the Thévenin impedance is the parallel combination of the capacitor and resistor (source impedance is very small). Using the parallel rule for impedances, we find <span class="math inline">\(Z_{\mathrm{th}} = 57.5\mathrm{k}\Omega \angle -46.5^{\circ}\)</span> . Figure 18b shows the effective circuit for the cascaded filters to determine loading. The loaded input to the second filter at points <span class="math inline">\(a - b\)</span> is the Thévenin voltage divided between the two impedances. Thus, we use the ac divider analysis to find</p>
<p><span class="math display">\[
V _ {a b} = \frac {(1 1 5 . 6 5 \angle - 4 3 . 5 ^ {\circ})}{5 7 . 5 \angle - 4 6 . 5 ^ {\circ} + 1 1 5 . 6 5 \angle - 4 3 . 5 ^ {\circ}} 0. 7 3 V _ {\mathrm {i n}}
\]</span></p>
<p><img src="Books/Johnson_PCIT/chapter_2/e07215ccbf813652100a9f5b4c45e9fe_MD5.jpg" class="img-fluid"></p>
<ol type="a">
<li></li>
</ol>
<p><img src="Books/Johnson_PCIT/chapter_2/b5927978ddaed6abcd09efc0babeb75e_MD5.jpg" class="img-fluid"></p>
<ol start="2" type="a">
<li></li>
</ol>
<p>FIGURE 18 Analysis of loading for a high-pass RC filter in Example 14.</p>
<p>Since we are only interested in the amplitude of the voltages, we find the magnitudes of the voltage so the result is <span class="math inline">\(|V_{ab}| = |0.49 V_{\mathrm{in}}|\)</span> . This is the voltage amplitude that is presented to the second filter stage. We have already seen that this stage has an output that is 0.73 of the input voltage. Therefore, the overall filter output voltage is</p>
<p><span class="math display">\[
V _ {\text {o u t}} = 0. 7 3 (0. 4 9 V _ {\text {i n}}) = 0. 3 6 V _ {\text {i n}}
\]</span></p>
<p>Thus, loading has reduced the data signal from <span class="math inline">\(53\%\)</span> to <span class="math inline">\(36\%\)</span> . Of course this is still far better than a single-stage filter, which left only <span class="math inline">\(3.3\%\)</span> of the signal at <span class="math inline">\(2\mathrm{kHz}\)</span> .</p>
<p>Band-Pass RC Filter It is possible to construct a filter that blocks frequencies below a low limit and above a high limit while passing frequencies between the limits. These are called band-pass filters. Passive band-pass filters can be designed with resistors and capacitors, but more efficient versions use inductors and/or capacitors. You should refer to specialized books on filtering to learn these circuits. In general, the band-pass filter is defined by the response shown in Figure 19. The lower critical frequency, <span class="math inline">\(f_{L}\)</span> , defines the frequency below which the ratio of output voltage to input voltage is down by at least 3 dB, or 0.707. The higher critical frequency, <span class="math inline">\(f_{H}\)</span> , defines the frequency above which the ratio of output voltage to input voltage is down by at least 3 dB, or 0.707. The frequency range between <span class="math inline">\(f_{L}\)</span> and <span class="math inline">\(f_{H}\)</span> is called the passband.</p>
<p>The band-pass <span class="math inline">\(RC\)</span> filter is shown in Figure 20. Notice that it is simply a low-pass filter followed by a high-pass filter. Care must be taken that the second filter does not load the first. The lower critical frequency is that of the high-pass filter, whereas the high critical frequency is that of the low-pass filter. If the low and high critical frequencies are too close together, the passband region never reaches unity (i.e., the output is attenuated for all frequencies).</p>
<p>Equation (25) gives the ratio of the magnitude of output voltage to input voltage for this filter as a function of frequency. This equation includes the effects of loading by a constant, <span class="math inline">\(r\)</span> , which is the ratio of the high-pass filter resistance to the low-pass filter resistance, <span class="math inline">\(r = R_{H} / R_{L}\)</span> :</p>
<p><span class="math display">\[
\left| \frac {V _ {\text {o u t}}}{V _ {\text {i n}}} \right| = \frac {f _ {H} f}{\sqrt {\left(f ^ {2} - f _ {H} f _ {L}\right) ^ {2} + \left[ f _ {L} + (1 + r) f _ {H} \right] ^ {2} f ^ {2}}} \tag {25}
\]</span></p>
<p>where <span class="math inline">\(f\)</span> is the frequency in hertz, and the critical frequencies are defined in terms of the circuit components as follows:</p>
<p><span class="math display">\[
f _ {H} = \frac {1}{2 \pi R _ {L} C _ {L}} f _ {L} = \frac {1}{2 \pi R _ {H} C _ {H}} \tag {26}
\]</span></p>
<p><img src="Books/Johnson_PCIT/chapter_2/2835eabe3390c76991e56012a63286d7_MD5.jpg" class="img-fluid"></p>
<p>FIGURE 19 The response of a band-pass filter shows that high and low frequencies are rejected.</p>
<p>FIGURE 20 A band-pass <span class="math inline">\(RC\)</span> filter can be made from cascaded high-pass and low-pass <span class="math inline">\(RC\)</span> filters.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/7604fbf94b77c537a3ace622582ff22f_MD5.jpg" class="img-fluid"></p>
<p>To provide a good passband, it is essential that the critical frequencies be as far apart as possible and that the resistor ratio be kept below 0.01. Example 15 illustrates a typical design application.</p>
</section>
<section id="example-15" class="level2">
<h2 class="anchored" data-anchor-id="example-15">EXAMPLE 15</h2>
<p>A signal-conditioning system uses a frequency variation from <span class="math inline">\(6\mathrm{kHz}\)</span> to <span class="math inline">\(60\mathrm{kHz}\)</span> to carry measurement information. There is considerable noise at <span class="math inline">\(120\mathrm{Hz}\)</span> and at <span class="math inline">\(1\mathrm{MHz}\)</span> . Design a band-pass filter to reduce the noise by <span class="math inline">\(90\%\)</span> . What is the effect on the desired passband frequencies?</p>
</section>
<section id="solution-13" class="level2">
<h2 class="anchored" data-anchor-id="solution-13">Solution</h2>
<p>First we ask what critical high-pass frequency will reduce signals at <span class="math inline">\(120\mathrm{Hz}\)</span> by a factor of 0.1 using Equation (24),</p>
<p><span class="math display">\[
0. 1 = \frac {1 2 0 / f _ {L}}{\sqrt {\left(1 + (1 2 0 / f _ {L}) ^ {2}\right)}} \quad \text {w h i c h g i v e s} f _ {L} = 1 2 0 0 \mathrm {H z}
\]</span></p>
<p>Then we ask what critical low-pass frequency will reduce 1-MHz signals by a factor of 0.1 using Equation (22),</p>
<p><span class="math display">\[
0. 1 = \frac {1}{\sqrt {\left(1 + \left(1 0 ^ {6} / f _ {H}\right) ^ {2}\right)}} \quad \text {w h i c h g i v e s} f _ {H} = 1 0 0 \mathrm {k H z}
\]</span></p>
<p>Equation (25) has been plotted in Figure 21 for the two cases <span class="math inline">\(r = 0.1\)</span> and <span class="math inline">\(r = 0.01\)</span> . You can see that the overall passband response is reduced (because of loading) with the larger value of <span class="math inline">\(r\)</span> . The effect on the signal can be found by evaluating Equation (25) at <span class="math inline">\(6\mathrm{kHz}\)</span> and <span class="math inline">\(60\mathrm{kHz}\)</span> , respectively. The results are as follows: The voltage ratio at <span class="math inline">\(6\mathrm{kHz}\)</span> is 0.969, for a <span class="math inline">\(3\%\)</span> reduction, and the voltage ratio at <span class="math inline">\(60\mathrm{kHz}\)</span> is 0.851, for a <span class="math inline">\(15\%\)</span> reduction.</p>
<p>To pick component values, we must have <span class="math inline">\(r = 0.01\)</span> , so if we pick <span class="math inline">\(R_{L} = 100\mathrm{k}\Omega\)</span> , then <span class="math inline">\(R_{H} = rR_{L} = 1\mathrm{k}\Omega\)</span> . The capacitor values are then found from Equation (26) to be <span class="math inline">\(C_H = 0.133\mu \mathrm{F}\)</span> and <span class="math inline">\(C_L = 15.9\mathrm{pF}\)</span> .</p>
<p>Band-Reject Filter Another kind of filter of some importance is one that blocks a specific range of frequencies. Often such a filter is used to reject a particular frequency or a small range of frequencies that are interfering with a data signal. In general, the definition of such a filter is given in Figure 22. The definitions are much the same as the band-pass filter in that <span class="math inline">\(f_{L}\)</span> is a critical frequency above which the signal is attenuated by 3 dB, or about 0.707, whereas <span class="math inline">\(f_{H}\)</span> is a critical frequency below which signals are attenuated by 3 dB, or about 0.707.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/598d912657ad765601ee44c6b09accee_MD5.jpg" class="img-fluid"></p>
<p>FIGURE 21 Band-pass response for the filter in Example 15.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/46ebf47ae50e2ada8febcd000442c0ce_MD5.jpg" class="img-fluid"></p>
<p>FIGURE 22 Response of a band-reject, or notch, filter shows that a middle band of frequencies are rejected.</p>
<p>It is difficult to realize such filters with passive <span class="math inline">\(RC\)</span> combinations. It is possible to construct band-reject frequencies using inductors and capacitors, but the most success is obtained using active circuits. You should look these up in a reference on filters.</p>
<p>One very special band-reject filter, which can be realized with <span class="math inline">\(RC\)</span> combinations, is called a notch filter because it blocks a very narrow range of frequencies. This circuit, called a twin- <span class="math inline">\(T\)</span> filter, is shown in Figure 23. The characteristics of this filter are determined strongly by the value of the grounding resistor and capacitor labeled <span class="math inline">\(R_{1}\)</span> and <span class="math inline">\(C_{1}\)</span> in Figure 23.</p>
<p>For the particular combination of <span class="math inline">\(R_{1} = \pi R / 10\)</span> and <span class="math inline">\(C_1 = 10C / \pi\)</span> , the filter response versus frequency is shown in Figure 24. The critical “notch” frequency occurs at a frequency given by</p>
<p><span class="math display">\[
f _ {n} = 0. 7 8 5 f _ {c} \quad \text {w h e r e} \quad f _ {c} = 1 / (2 \pi R C) \tag {27}
\]</span></p>
<p>FIGURE 23 One form of a band-reject <span class="math inline">\(RC\)</span> filter is the twin-T.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/4531dc48af8d94c7df6f1cf838526199_MD5.jpg" class="img-fluid"></p>
<p><img src="Books/Johnson_PCIT/chapter_2/97b14a14a781013200bed0efa0916752_MD5.jpg" class="img-fluid"></p>
<p>FIGURE 24 The twin-T rejection notch is very sharp for one set of components.</p>
<p>Note that at the notch frequency, the output computes to about 0.002, so the rejection is not complete. The frequencies for which the output is down 3 dB (about 0.707) from the passband are given by</p>
<p><span class="math display">\[
f _ {L} = 0. 1 8 7 f _ {c} \quad \text {a n d} \quad f _ {H} = 4. 5 7 f _ {c} \tag {28}
\]</span></p>
<p>EXAMPLE 16</p>
<p>A frequency of <span class="math inline">\(400\mathrm{Hz}\)</span> prevails aboard an aircraft. Design a twin-T notch filter to reduce the <span class="math inline">\(400\mathrm{Hz}\)</span> signal. What effect would this have on voice signals at 10 to <span class="math inline">\(300\mathrm{Hz}\)</span> ? At what higher frequency is the output down by 3 dB?</p>
<p>Solution</p>
<p>If we are to have a notch frequency of <span class="math inline">\(400\mathrm{Hz}\)</span> , the critical frequency can be found from Equation (27):</p>
<p><span class="math display">\[
4 0 0 = 0. 7 8 5 f _ {c} \quad \text {s o} \quad f _ {c} = \frac {4 0 0}{0 . 7 8 5} = 5 1 0 \mathrm {H z}
\]</span></p>
<p>If we pick <span class="math inline">\(C = 0.01\mu \mathrm{F}\)</span> , then the resistance is given by</p>
<p><span class="math display">\[
R = \frac {1}{2 \pi (5 1 0) \left(0 . 0 1 \times 1 0 ^ {- 6}\right)} = 3 1, 2 0 6 \Omega
\]</span></p>
<p>Now the values of the grounding components are found as</p>
<p><span class="math display">\[
R _ {1} = \frac {\pi (3 1 , 2 0 6)}{1 0} = 9 8 0 0 \Omega
\]</span></p>
<p><span class="math display">\[
C _ {1} = \frac {1 0 (0 . 0 1 \mu \mathrm {F})}{\pi} = 0. 0 3 \mu \mathrm {F}
\]</span></p>
<p>The effect can be estimated from Figure 24 by noting that <span class="math inline">\(10 / 400 = 0.025\)</span> and <span class="math inline">\(300 / 400 = 0.75\)</span> . From the graph, this means the output/output ratios are about 0.99 and 0.03, respectively. So, the higher low frequencies are attenuated significantly. Higher frequencies will be down 3 dB for frequencies below <span class="math inline">\(4.57f_{c}\)</span> , or about <span class="math inline">\(2300\mathrm{Hz}\)</span> .</p>
<p>It must be noted that much more improved band-reject and notch filters can be realized using active circuits, particularly using op amps.</p>
</section>
<section id="operational-amplifiers" class="level2">
<h2 class="anchored" data-anchor-id="operational-amplifiers">4 OPERATIONAL AMPLIFIERS</h2>
<p>As discussed in Section 2, there are many diverse requirements for signal conditioning in process control. In Section 3 we considered common, passive circuits that can provide some of the required signal operations, the divider, bridge, and <span class="math inline">\(RC\)</span> filters. Historically, the detectors used in bridge circuits consisted of tube and transistor circuits. In many other cases where impedance transformations, amplification, and other operations were required, a circuit was designed that depended on discrete electronic components. With the remarkable advances in electronics and integrated circuits (ICs), the requirement to implement designs from discrete components has given way to easier and more reliable methods of signal conditioning. Many special circuits and general-purpose amplifiers are now contained in integrated circuit (IC) packages, producing a quick solution to signal-conditioning problems together with small size, low power consumption, and low cost.</p>
<p>In general, the application of ICs requires familiarity with an available line of such devices and their specifications and limitations, before they can be applied to a specific problem. Apart from these specialized ICs, there is also a type of amplifier that finds wide application as the building block of signal-conditioning applications. This device, called an operational amplifier (op amp), has been in existence for many years. It was first constructed from tubes, then from discrete transistors, and now as integrated circuits. Although many lines of op amps with diverse specifications exist from many manufacturers, they all have common characteristics of operation that can be employed in basic designs relating to any general op amp.</p>
</section>
<section id="op-amp-characteristics" class="level2">
<h2 class="anchored" data-anchor-id="op-amp-characteristics">4.1 Op Amp Characteristics</h2>
<p>An op amp is a circuit composed of resistors, transistors, diodes, and capacitors. It typically requires connection of bipolar power supplies—that is, both <span class="math inline">\(+V_{s}\)</span> and <span class="math inline">\(-V_{s}\)</span> with respect to ground. When considered as a functional element of some larger circuit, however, all we are concerned with are its input and output signals. For that reason, the op amp is usually shown in a larger circuit using its own schematic symbol as in Figure 25. Notice that the power supply connections are not shown—only two input terminals and an output terminal.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/6ffaabe24e073e39380fec217e301f8b_MD5.jpg" class="img-fluid"></p>
<ol type="a">
<li>Operational amplifier schematic symbol</li>
</ol>
<p><img src="Books/Johnson_PCIT/chapter_2/4fa467386e7c6c531e9abf67e2bb6eb2_MD5.jpg" class="img-fluid"></p>
<ol start="2" type="a">
<li>Relationship between input and output voltage</li>
</ol>
<p>FIGURE 25 The schematic symbol and response of an op amp.</p>
<p>In the schematic symbol of Figure 25a, one input is labeled with a minus <span class="math inline">\((-)\)</span> sign and is called the inverting input. The other is labeled with a plus <span class="math inline">\((+)\)</span> sign and is called the noninverting input. The sign labels are part of the symbol and must always be included.</p>
<p>Transfer Function Figure 25b shows the relationship between voltages applied to the two input terminals and the resulting output voltage. The output voltage, <span class="math inline">\(V_{\mathrm{out}}\)</span> , is plotted versus the difference between the two input voltages, <span class="math inline">\((V_2 - V_1)\)</span> . This input is called the differential input voltage. Figure 25a shows that there is no ground connection directly to the op amp. However, the voltages shown are with respect to ground. Notice we have applied <span class="math inline">\(V_{1}\)</span> to the noninverting input and <span class="math inline">\(V_{2}\)</span> to the inverting terminal.</p>
<p>The interpretation of Figure 25b is made as follows. When <span class="math inline">\(V_{2}\)</span> is much larger than <span class="math inline">\(V_{1}\)</span> , so that <span class="math inline">\((V_{2} - V_{1})\)</span> is positive, the output is saturated at some negative voltage, <span class="math inline">\(-V_{\mathrm{sat}}\)</span> . Conversely, when <span class="math inline">\(V_{1}\)</span> is much larger than <span class="math inline">\(V_{2}\)</span> , the output is saturated at some positive voltage, <span class="math inline">\(+V_{\mathrm{sat}}\)</span> . This is why the terminals are called inverting and noninverting, respectively. When the voltage on the <span class="math inline">\((-)\)</span> terminal is more positive, the output is negative (i.e., the sign is inverted).</p>
<p>There is a narrow range of differential input voltage, labeled <span class="math inline">\(\Delta V\)</span> in Figure 25b, within which the output changes from <span class="math inline">\(+\)</span> saturation to <span class="math inline">\(-\)</span> saturation. For most op amps, this input voltage range is less than a millivolt, whereas the saturation voltages are typically on the order of <span class="math inline">\(10\mathrm{V}\)</span> . Thus, the slope of the transition between saturation levels is very large, typically exceeding <span class="math inline">\(100,000\mathrm{V/V}\)</span> .</p>
<p>Other characteristics of the op amp are that the input impedances are very high, typically exceeding <span class="math inline">\(1\mathrm{M}\Omega\)</span> , whereas the output impedance is very low, typically less than <span class="math inline">\(100\Omega\)</span></p>
<p>Other characteristics of ideal op amps are (1) an infinite impedance between inputs and (2) a zero output impedance. In practice, the device is always used with feedback of output to input. Such feedback permits implementation of many special relationships between input and output voltage.</p>
<p>Ideal Inverting Amplifier To see how the op amp is used, let us consider the circuit in Figure 26. Resistor <span class="math inline">\(R_{1}\)</span> is used to feed back the output to the inverting input of the op amp, and <span class="math inline">\(R_{1}\)</span> connects the input voltage <span class="math inline">\(V_{\mathrm{in}}\)</span> to this same point. The common connection is called the summing point. We can see that with no feedback and the <span class="math inline">\((+)\)</span> grounded, <span class="math inline">\(V_{\mathrm{in}} &gt; 0\)</span> saturates the output negative and <span class="math inline">\(V_{\mathrm{in}} &lt; 0\)</span> saturates the output positive. With feedback, the output adjusts to a voltage such that</p>
<ol type="1">
<li>The summing point voltage is equal to the <span class="math inline">\((+)\)</span> op amp input level, zero in this case.</li>
<li>No current flows through the op amp input terminals because of the assumed infinite impedance.</li>
</ol>
<p>In this case, the sum of currents at the summing point must be zero.</p>
<p><span class="math display">\[
I _ {1} + I _ {2} = 0 \tag {29}
\]</span></p>
<p>where <span class="math inline">\(I_{1} =\)</span> current through <span class="math inline">\(R_{1}\)</span></p>
<p><span class="math display">\[
I _ {2} = \text {c u r r e n t t h r o u g h} R _ {2}
\]</span></p>
<p>Because the summing point potential is assumed to be zero, by Ohm’s law we have</p>
<p><span class="math display">\[
\frac {V _ {\text {i n}}}{R _ {1}} + \frac {V _ {\text {o u t}}}{R _ {2}} = 0 \tag {30}
\]</span></p>
<p>From Equation (29), we can write the circuit response as</p>
<p><span class="math display">\[
V _ {\text {o u t}} = - \frac {R _ {2}}{R _ {1}} V _ {\text {i n}} \tag {31}
\]</span></p>
<p>Thus, the circuit of Figure 26 is an inverting amplifier with gain <span class="math inline">\(R_{2} / R_{1}\)</span> that is shifted <span class="math inline">\(180^{\circ}\)</span> in phase (inverted) from the input. This device is also an attenuator by virtue of making <span class="math inline">\(R_{2} &lt; R_{1}\)</span> .</p>
<p>This example suggests two rules that can be applied to analyze the ideal operation of any op amp circuit. In most cases, such an analysis will provide the circuit transfer function with little error. The design rules are:</p>
<p>Rule 1 Assume that no current flows through the op amp input terminals—that is, the inverting and noninverting terminals.</p>
<p>Rule 2 Assume that there is no voltage difference between the op amp input terminals—that is, <span class="math inline">\(V_{+} = V_{-}\)</span> .</p>
<p>FIGURE 26 The op amp inverting amplifier.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/aae8837ac8099ea17b2dccfd35756c93_MD5.jpg" class="img-fluid"></p>
<p>Nonideal Effects Analysis of op amp circuits with nonideal response is performed by considering the following parameters:</p>
<ol type="1">
<li>Finite open-loop gain The design rules presented here assume the op amp has infinite open-loop gain. Of course, a real op amp does not, as shown in</li>
</ol>
<p><img src="Books/Johnson_PCIT/chapter_2/7c49617b80c788542fa0230e5851c4df_MD5.jpg" class="img-fluid"></p>
<ol type="a">
<li>Nonideal input/output characteristic</li>
</ol>
<p><img src="Books/Johnson_PCIT/chapter_2/fbcbd258b099441712051c3dd83153fb_MD5.jpg" class="img-fluid"></p>
<ol start="2" type="a">
<li>Inverting amplifier with nonideal op amp properties</li>
</ol>
<p>FIGURE 27 Nonideal characteristics of an op amp include finite gain, finite impedance, and offsets.</p>
<p>Figure 25a and again in Figure 27a. The gain is defined as the slope of the voltage-transfer function,</p>
<p><span class="math display">\[
A = \left| \frac {\Delta V _ {\text {o u t}}}{\Delta \left(V _ {2} - V _ {1}\right)} \right| \approx \left| \frac {2 V _ {\text {s a t}}}{\Delta V} \right|
\]</span></p>
<p>For a typical op amp, <span class="math inline">\(V_{\mathrm{sat}} \sim 10 \mathrm{~V}\)</span> and <span class="math inline">\(\Delta V \sim 100 \mu \mathrm{V}\)</span> , so <span class="math inline">\(A \sim 200,000!\)</span></p>
<ol type="1">
<li>Finite input impedance A real op amp has a finite input impedance and, consequently, a finite voltage across and current through its input terminals.</li>
<li>Nonzero output impedance A real op amp has a nonzero output impedance, although this low output impedance is typically only a few ohms.</li>
</ol>
<p>In most modern applications, these nonideal effects can be ignored in designing op amp circuits. For example, consider the circuit in Figure 27b, where the finite impedances and gain of the op amp have been included. We can employ standard circuit analysis to find the relationship between input and output voltage for this circuit. Summing the currents at the summing point gives</p>
<p><span class="math display">\[
I _ {1} + I _ {2} + I _ {3} = 0
\]</span></p>
<p>Then, each current can be identified in terms of the circuit parameters to give</p>
<p><span class="math display">\[
\frac {V _ {\text {i n}} - V _ {s}}{R _ {1}} + \frac {V _ {0} - V _ {s}}{R _ {2}} - \frac {V _ {s}}{z _ {\text {i n}}} = 0
\]</span></p>
<p>Finally, <span class="math inline">\(V_{0}\)</span> can be related to the op amp gain as</p>
<p><span class="math display">\[
V _ {0} = A V _ {s} - \left(\frac {V _ {0} - V _ {s}}{R _ {2}}\right) z _ {0}
\]</span></p>
<p>Now, combining the equations, we find</p>
<p><span class="math display">\[
V _ {0} = - \frac {R _ {2}}{R _ {1}} \left(\frac {1}{1 - \mu}\right) V _ {\text {i n}} \tag {32}
\]</span></p>
<p>where</p>
<p><span class="math display">\[
\mu = \frac {\left(1 + \frac {z _ {0}}{R _ {2}}\right) \left(1 + \frac {R _ {2}}{R _ {1}} + \frac {R _ {2}}{z _ {\text {i n}}}\right)}{\left(A + \frac {z _ {0}}{R _ {2}}\right)} \tag {33}
\]</span></p>
<p>If we assume that <span class="math inline">\(\mu\)</span> is very small compared with unity, then Equation (32) reduces to the ideal case given by Equation (31). Indeed, if typical values for an IC op amp are chosen for a case where <span class="math inline">\(R_{2} / R_{1} = 100\)</span> , we can show that <span class="math inline">\(\mu \ll 1\)</span> . For example, a common, general-purpose IC op amp shows</p>
<p><span class="math display">\[
A = 2 0 0, 0 0 0
\]</span></p>
<p><span class="math display">\[
z _ {0} = 7 5 \Omega
\]</span></p>
<p><span class="math display">\[
z _ {\mathrm {i n}} = 2 \mathrm {M} \Omega
\]</span></p>
<p>If we use a feedback resistance <span class="math inline">\(R_{2}\)</span> of <span class="math inline">\(100\mathrm{k}\Omega\)</span> and substitute the aforementioned values into Equation (33), we find <span class="math inline">\(\mu \simeq 0.0005\)</span> , which shows that the gain from Equation (32) differs from the ideal by only <span class="math inline">\(0.05\%\)</span> . This is, of course, only one example of the many op amp circuits that are employed, but in most cases a similar analysis shows that the ideal characteristics may be assumed.</p>
</section>
<section id="op-amp-specifications" class="level2">
<h2 class="anchored" data-anchor-id="op-amp-specifications">4.2 Op Amp Specifications</h2>
<p>There are characteristics of op amps other than those given in the previous section that enter into design applications. These characteristics are given in the specifications for particular op amps together with the open-loop gain and input and output impedance previously defined. Some of these characteristics are as follows:</p>
<ul>
<li>Input offset voltage In most cases, the op amp output voltage may not be zero when the voltage across the input is zero. The voltage that must be applied across the input terminals to drive the output to zero is the input offset voltage, <span class="math inline">\(V_{\mathrm{ios}}\)</span> . This is shown in Figure 27a.</li>
<li>Input offset current Just as a voltage offset may be required across the input to zero the output voltage, so a net current may be required between the inputs to zero the output voltage. Such a current is referred to as an input offset current. This is taken as the difference of the two input currents.</li>
<li>Input bias current This is the average of the two input currents required to drive the output voltage to zero.</li>
<li>Slew rate If a voltage is suddenly applied to the input of an op amp, the output will saturate to the maximum. For a step input, the slew rate is the rate at which the output changes to the saturation value. This typically is expressed as volts per microsecond <span class="math inline">\((V / \mu s)\)</span> .</li>
<li>Unity gain frequency bandwidth The frequency response of an op amp is typically defined by a Bode plot of open-loop voltage gain versus frequency. Such a plot is very important for the design of circuits that deal with ac signals. It is beyond the scope of this book to consider the details of designs employing Bode plots.</li>
</ul>
<p>FIGURE 28 Some op amps provide connections for an input offset compensation trimmer resistor.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/e7730ae1e9be167ea6f7f25410658715_MD5.jpg" class="img-fluid"></p>
<p>Instead, the overall frequency behavior can be seen by determination of the frequency at which the open-loop gain of the op amp has become unity, thus defining the unity gain frequency bandwidth.</p>
<p>Practical Issues There are several practical issues associated with op amp applications that appear as extra components in op amp circuits but which do not contribute to the circuit transfer function. The following paragraphs summarize the issues.</p>
<p>In general, op amps require bipolar power supplies, <span class="math inline">\(+V_{s}\)</span> and <span class="math inline">\(-V_{s}\)</span> , of equal magnitude, which are connected to designated pins of the IC. Typically, the value of these supply voltages is in the range of 9 to 15 volts, although op amps are available with many other supply requirements. Figure 28 shows the inverting amplifier with the power supply connections.</p>
<p>Approximate input offset current compensation can be provided by making the resistance feeding both input terminals approximately the same. In Figure 28 for the inverting amplifier, this has been provided by a resistor on the noninverting terminal whose value is the same as <span class="math inline">\(R_{1}\)</span> and <span class="math inline">\(R_{2}\)</span> in parallel, since that is the effective resistance seen by the inverting terminal.</p>
<p>Compensation for input offset voltage can be provided in one of two ways. Many modern IC op amps provide terminals to allow input offset compensation. This has been shown in Figure 28 as a variable resistor connected to two terminals of the op amp. The wiper of the variable resistor is connected to the supply voltage, either <span class="math inline">\(+V_{s}\)</span> or <span class="math inline">\(-V_{s}\)</span> , according to the specifications of the op amp. This resistor need be adjusted only one time and not again, unless the particular op amp used is changed.</p>
<p>The concept here is that the transfer function for the op amp circuit, Equation (31) in this case, will be incorrect for dc signals if there is input offset voltage. In this case, if the input is set to zero, <span class="math inline">\(V_{\mathrm{in}} = 0\)</span> , then the output by Equation (31) should be zero, but it will not be because of input offset voltage. Thus, the variable resistor is adjusted until the output is zero, thereby compensating for input offset voltage. Now the transfer function of Equation (31) will be correct. As long as the op amp is not replaced or the circuit components are not changed, further adjustments of the resistor are not required.</p>
<p>Some op amps do not provide terminals for input offset compensation in the manner described. In these cases, a small bias voltage must be placed on the input to provide the required compensation. Figure 29 shows one way to do this in the case of the inverting amplifier.</p>
<p>Another practical issue in the application of op amps involves the current drive capability. General-purpose IC op amps can source, or sink, no more than about <span class="math inline">\(20\mathrm{mA}\)</span> , which includes the current in the feedback circuit. This leads to a general design criterion to be applied to design with op amps: Think mA and <span class="math inline">\(k\Omega\)</span> when designing circuits that use op amps. The following example illustrates this point.</p>
<p>FIGURE 29 Input offset can also be compensated using external connections and trimmer resistors.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/04bbcf0520348527c334a88b58edf4e9_MD5.jpg" class="img-fluid"></p>
</section>
<section id="example-17" class="level2">
<h2 class="anchored" data-anchor-id="example-17">EXAMPLE 17</h2>
<p>Specify the circuit and components for an op amp circuit with a gain of <span class="math inline">\(-4.5\)</span> .</p>
</section>
<section id="solution-14" class="level2">
<h2 class="anchored" data-anchor-id="solution-14">Solution</h2>
<p>Since the gain is negative, we can use an inverting amplifier, as in Figure 26, to provide the solution. From Equation (31),</p>
<p><span class="math display">\[
\mathrm {g a i n} = - 4. 5 = - \frac {R _ {2}}{R _ {1}}
\]</span></p>
<p>Thus, any two resistors with a ratio of 4.5 can be used. Here is where the practical issue comes into play. Suppose we picked <span class="math inline">\(R_{1} = 1\Omega\)</span> and <span class="math inline">\(R_{2} = 4.5\Omega\)</span> . This satisfies the design equation; however, it is impractical for the following reason. Suppose the input voltage were <span class="math inline">\(2.0\mathrm{V}\)</span> . Then the output would be expected to be <span class="math inline">\(V_{\mathrm{out}} = -4.5(2.0) = -9.0\mathrm{V}\)</span> . However, this would mean that the feedback current would have to be <span class="math inline">\(I_{2} = (-9\mathrm{V} / 4.5\Omega) = -2\mathrm{A}!\)</span> . The poor op amp can provide only about <span class="math inline">\(20\mathrm{mA}\)</span> , so the circuit would not work. Thus, we think mA and kΩ and select, for example, <span class="math inline">\(R_{1} = 1\mathrm{k}\Omega\)</span> and <span class="math inline">\(R_{2} = 4.5\mathrm{k}\Omega\)</span> , or any combination with a ratio of 4.5, but in kΩ.</p>
<p>Most of the op amp circuits shown will not include power supply connections or compensation components. This is done to simplify the circuits so the essential working principles can be understood. You should realize, however, that a practical, working circuit will usually need these compensation elements.</p>
</section>
<section id="op-amp-circuits-in-instrumentation" class="level2">
<h2 class="anchored" data-anchor-id="op-amp-circuits-in-instrumentation">5 OP AMP CIRCUITS IN INSTRUMENTATION</h2>
<p>As the op amp became familiar to the individuals working in process-control and instrumentation technology, a large variety of circuits were developed with direct application to this field. In general, it is much easier to develop a circuit for a specific service using op amps than discrete components; with the development of low-cost IC op amps, it is also practical. Perhaps one of the greatest disadvantages is the requirement of a bipolar power supply for the op amp. This section presents a number of typical circuits and their basic characteristics, together with a derivation of the circuit response assuming an ideal op amp.</p>
<p>FIGURE 30 The op amp voltage follower. This circuit has unity gain but very high input impedance.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/c5065803a274c15a7a7e7700074655c8_MD5.jpg" class="img-fluid"></p>
</section>
<section id="voltage-follower" class="level2">
<h2 class="anchored" data-anchor-id="voltage-follower">5.1 Voltage Follower</h2>
<p>Figure 30 shows an op amp circuit with unity gain and very high input impedance. The input impedance is essentially the input impedance of the op amp itself, which can be greater than <span class="math inline">\(100\mathrm{M}\Omega\)</span> . The voltage output tracks the input over a range defined by the plus and minus saturation voltage outputs. Current output is limited to the short circuit current of the op amp, and output impedance is typically much less than <span class="math inline">\(100\Omega\)</span> . In many cases, a manufacturer will market an op amp voltage follower whose feedback is provided internally. Such a unit is usually specifically designed for very high input impedance. The unity gain voltage follower is essentially an impedance transformer in the sense of converting a voltage at high impedance to the same voltage at low impedance.</p>
</section>
<section id="inverting-amplifier" class="level2">
<h2 class="anchored" data-anchor-id="inverting-amplifier">5.2 Inverting Amplifier</h2>
<p>The inverting amplifier has already been discussed in connection with our treatment of op amp characteristics. Equation (31) shows that this circuit inverts the input signal and may have either attenuation or gain, depending on the ratio of input resistance, <span class="math inline">\(R_{1}\)</span> , and feedback resistance, <span class="math inline">\(R_{2}\)</span> . The circuit for this amplifier is shown in Figure 25. It is important to note that the input impedance of this circuit is essentially equal to <span class="math inline">\(R_{1}\)</span> , the input resistance. In general, this resistance is not large, and hence the input impedance is not large. The output impedance is low.</p>
<p>Summing Amplifier A common modification of the inverting amplifier is an amplifier that sums or adds two or more applied voltages. This circuit is shown in Figure 31 for the case of summing two input voltages. The transfer function of this amplifier is given by</p>
<p><span class="math display">\[
V _ {\text {o u t}} = - \left[ \frac {R _ {2}}{R _ {1}} V _ {1} + \frac {R _ {2}}{R _ {3}} V _ {2} \right] \tag {34}
\]</span></p>
<p>The sum can be scaled by proper selection of resistors. For example, if we make <span class="math inline">\(R_{1} = R_{2} = R_{3}\)</span> , then the output is simply the (inverted) sum of <span class="math inline">\(V_{1}\)</span> and <span class="math inline">\(V_{2}\)</span> . The average can be found by making <span class="math inline">\(R_{1} = R_{3}\)</span> and <span class="math inline">\(R_{2} = R_{1} / 2\)</span> .</p>
<p>FIGURE 31 The op amp summing amplifier.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/5e9931f215cf2825f80eafa1dee65b0b_MD5.jpg" class="img-fluid"></p>
<p>EXAMPLE Develop an op amp circuit that can provide an output voltage related to the input voltage by 18 <span class="math inline">\(V_{\mathrm{out}} = 3.4V_{\mathrm{in}} + 5\)</span></p>
</section>
<section id="solution-15" class="level2">
<h2 class="anchored" data-anchor-id="solution-15">Solution</h2>
<p>There are many ways to do this. One way is to use a summing amplifier with <span class="math inline">\(V_{\mathrm{in}}\)</span> on one input and <span class="math inline">\(5\mathrm{V}\)</span> on the other. The gains will be selected to be 3.4 and 1.0, respectively. The summing amplifier of Figure 31 is also an inverter, however, so the sign will be wrong. Thus, a second amplifier will be used with a gain of <span class="math inline">\(-1\)</span> to make the sign correct. The result is shown in Figure 32. Selection of the values of the resistors is based on the general notion of keeping the currents in milliamperes.</p>
</section>
<section id="noninverting-amplifier" class="level2">
<h2 class="anchored" data-anchor-id="noninverting-amplifier">5.3 Noninverting Amplifier</h2>
<p>A noninverting amplifier may be constructed from an op amp, as shown in Figure 33. The gain of this circuit is found by summing the currents at the summing point, <span class="math inline">\(S\)</span> , and using the fact that the summing point voltage is <span class="math inline">\(V_{\mathrm{in}}\)</span> so that no voltage difference appears across the input terminals.</p>
<p><span class="math display">\[
I _ {1} + I _ {2} = 0
\]</span></p>
<p>where <span class="math inline">\(I_{1} =\)</span> current through <span class="math inline">\(R_{1}\)</span></p>
<p><span class="math inline">\(I_{2} =\)</span> current through <span class="math inline">\(R_{2}\)</span></p>
<p><img src="Books/Johnson_PCIT/chapter_2/b0d6df631c7f68a449d0a16ccf4c6e86_MD5.jpg" class="img-fluid"></p>
<p>FIGURE 32 The op amp circuit for Example 18.</p>
<p>FIGURE 33 A noninverting amplifier.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/a94ef9749376254e74d5e931d2050cbb_MD5.jpg" class="img-fluid"></p>
<p>But these currents can be found from Ohm’s law such that this equation becomes</p>
<p><span class="math display">\[
\frac {V _ {\mathrm {i n}}}{R _ {1}} + \frac {V _ {\mathrm {i n}} - V _ {\mathrm {o u t}}}{R _ {2}} = 0
\]</span></p>
<p>Solving this equation for <span class="math inline">\(V_{\mathrm{out}}\)</span> , we find</p>
<p><span class="math display">\[
V _ {\text {o u t}} = \left[ 1 + \frac {R _ {2}}{R _ {1}} \right] V _ {\text {i n}} \tag {35}
\]</span></p>
<p>Equation (35) shows that the noninverting amplifier has a gain that depends on the ratio of feedback resistor <span class="math inline">\(R_{2}\)</span> and ground resistor <span class="math inline">\(R_{1}\)</span> , but this gain can never be used for voltage attenuation because the ratio is added to 1. Because the input is taken directly into the non-inverting input of the op amp, the input impedance is very high, since it is effectively equal to the op amp input impedance. The output impedance is very low.</p>
<p>EXAMPLE Design a high-impedance amplifier with a voltage gain of 42.</p>
<p>19</p>
<p>Solution</p>
<p>We use the noninverting circuit of Figure 33 with resistors selected from</p>
<p><span class="math display">\[
V _ {\text {o u t}} = \left[ 1 + \frac {R _ {2}}{R _ {1}} \right] V _ {\text {i n}}
\]</span></p>
<p><span class="math display">\[
4 2 = 1 + \frac {R _ {2}}{R _ {1}}
\]</span></p>
<p><span class="math display">\[
R _ {2} = 4 1 R _ {1}
\]</span></p>
<p>so we could choose <span class="math inline">\(R_{1} = 1\mathbf{k}\Omega\)</span> , which requires <span class="math inline">\(R_{2} = 41\mathbf{k}\Omega\)</span></p>
</section>
<section id="differential-instrumentation-amplifier" class="level2">
<h2 class="anchored" data-anchor-id="differential-instrumentation-amplifier">5.4 Differential Instrumentation Amplifier</h2>
<p>There are many instances in measurement and control systems in which the difference between two voltages needs to be conditioned. A good example is the Wheatstone bridge, where the offset voltage, <span class="math inline">\(\Delta V = V_{a} - V_{b}\)</span> , is the quantity of interest.</p>
<p>An ideal differential amplifier provides an output voltage with respect to ground that is some gain times the difference between two input voltages:</p>
<p><span class="math display">\[
V _ {\text {o u t}} = A \left(V _ {a} - V _ {b}\right) \tag {36}
\]</span></p>
<p>where <span class="math inline">\(A\)</span> is the differential gain and both <span class="math inline">\(V_{a}\)</span> and <span class="math inline">\(V_{b}\)</span> are voltages with respect to ground.</p>
<p>Such an amplifier plays an important role in instrumentation and measurement.</p>
<p>Common Mode Rejection Notice that the output voltage as given by Equation (36) does not depend on the values or polarity of either input voltage, but only on their difference. Thus, if the gain were 10 and <span class="math inline">\(V_{a} = 0.3 \mathrm{~V}\)</span> and <span class="math inline">\(V_{b} = 0.2 \mathrm{~V}\)</span> , the output would be given by <span class="math inline">\(V_{\mathrm{out}} = 10(0.3 - 0.2) = 1.0 \mathrm{~V}\)</span> . But if the inputs were <span class="math inline">\(V_{a} = 7.8 \mathrm{~V}\)</span> and <span class="math inline">\(V_{b} = 7.7 \mathrm{~V}\)</span> , the output would still be 1.0 V, since <span class="math inline">\(V_{\mathrm{out}} = 10(7.8 - 7.7) = 1.0\)</span> . Even if <span class="math inline">\(V_{a} = -2.4 \mathrm{~V}\)</span> and <span class="math inline">\(V_{b} = -2.5 \mathrm{~V}\)</span> , the output would still be given by 1.0 V since <span class="math inline">\(V_{\mathrm{out}} = 10(-2.4 - [-2.5]) = 1.0 \mathrm{~V}\)</span> . Real differential amplifiers can only approach this ideal.</p>
<p>To define the degree to which a differential amplifier approaches the ideal, we use the following definitions. The common-mode input voltage is the average of voltage applied to the two input terminals,</p>
<p><span class="math display">\[
V _ {c m} = \frac {V _ {a} + V _ {b}}{2} \tag {37}
\]</span></p>
<p>An ideal differential amplifier will not have any output that depends on the value of the common-mode voltage; that is, the circuit gain for common-mode voltage, <span class="math inline">\(A_{cm}\)</span> , will be zero.</p>
<p>The common-mode rejection ratio (CMRR) of a differential amplifier is defined as the ratio of the differential gain to the common-mode gain. The common-mode rejection (CMR) is the CMRR expressed in dB,</p>
<p><span class="math display">\[
\mathrm {C M R R} = \frac {A}{A _ {c m}} \tag {38}
\]</span></p>
<p><span class="math display">\[
\mathrm {C M R} = 2 0 \log_ {1 0} (\mathrm {C M R R}) \tag {39}
\]</span></p>
<p>Clearly, the larger these numbers, the better the differential amplifier. Typical values of CMR range from 60 to <span class="math inline">\(100\mathrm{dB}\)</span> .</p>
<p>Differential Amplifier There are a number of op amp circuits for differential amplifiers. The most common circuit for this amplifier is shown in Figure 34. Notice that the circuit uses two pairs of matched resistors, <span class="math inline">\(R_{1}\)</span> and <span class="math inline">\(R_{2}\)</span> . When the matching is perfect and the op amp is ideal, the transfer function for this amplifier is given by (see Appendix 6)</p>
<p><span class="math display">\[
V _ {\text {o u t}} = \frac {R _ {2}}{R _ {1}} \left(\mathrm {V} _ {2} - \mathrm {V} _ {1}\right) \tag {40}
\]</span></p>
<p>If the resistors are not well matched, the CMR will be poor. The circuit of Figure 33 has a disadvantage in that its input impedance is not very high and, further, is not the same for the two inputs. For this reason, voltage followers are often used on the input to provide high input impedance. The result is called an instrumentation amplifier.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/420be05c226d015cb08af5d59f276056_MD5.jpg" class="img-fluid"></p>
<p>FIGURE 34 The basic differential amplifier configuration.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/bcd4c220fd7c21ca8ac4102543f1990a_MD5.jpg" class="img-fluid"></p>
<p>FIGURE 35 An instrumentation amplifier includes voltage followers for input isolation.</p>
<p>Instrumentation Amplifier Differential amplifiers with high input impedance and low output impedance are given the special name of instrumentation amplifier. They find a host of applications in process-measurement systems, principally as the initial stage of amplification for bridge circuits.</p>
<p>Figure 35 shows one type of instrumentation amplifier in common use. Voltage followers are simply placed on each input line. The transfer function is still given by Equation (40). One disadvantage of this circuit is that changing gain requires changing two resistors and having them carefully matched in value. Input offset compensation can be provided using only the differential amplifier op amp to compensate for overall offsets of all three op amps.</p>
<p>EXAMPLE 20</p>
<p>A sensor outputs a range of 20.0 to <span class="math inline">\(250\mathrm{mV}\)</span> as a variable varies over its range. Develop signal conditioning so that this becomes 0 to <span class="math inline">\(5\mathrm{V}\)</span> . The circuit must have very high input impedance.</p>
</section>
<section id="solution-16" class="level2">
<h2 class="anchored" data-anchor-id="solution-16">Solution</h2>
<p>A logical way to approach problems of this sort is to develop an equation for the output in terms of the input, such as that shown in Example 18. A circuit can then be developed to provide the variation of the equation. The equation is that of a straight line; we can then write</p>
<p><span class="math display">\[
V _ {\text {o u t}} = m V _ {\text {i n}} + V _ {0}
\]</span></p>
<p>where <span class="math inline">\(m\)</span> is the slope of the line and represents the gain ( <span class="math inline">\(m &gt; 1\)</span> ) or attenuation ( <span class="math inline">\(m &lt; 1\)</span> ) required, and <span class="math inline">\(V_{0}\)</span> is the intercept; that is, the value <span class="math inline">\(V_{\mathrm{out}}\)</span> would be <span class="math inline">\(V_{0}\)</span> if <span class="math inline">\(V_{\mathrm{in}} = 0\)</span> .</p>
<p>For the two conditions in this problem, form two equations to solve for <span class="math inline">\(m\)</span> and <span class="math inline">\(V_0\)</span> .</p>
<p><img src="Books/Johnson_PCIT/chapter_2/6deb6d2a373874e46f8518e1fa160469_MD5.jpg" class="img-fluid"></p>
<p>FIGURE 36 Solution for Example 20.</p>
<p><span class="math display">\[
\begin{array}{l} 0 = m (0. 0 2) + V _ {0} \\ 5 = m (0. 2 5) + V _ {0} \\ \end{array}
\]</span></p>
<p>We get <span class="math inline">\(m = 21.7\)</span> and <span class="math inline">\(V_{0} = -0.434\mathrm{V}\)</span> using standard algebra. The equation is</p>
<p><span class="math display">\[
V _ {\text {o u t}} = 2 1. 7 V _ {\text {i n}} - 0. 4 3 4
\]</span></p>
<p>In this form, you can see that a summing amplifier could be used, such as the one shown in Figure 31.</p>
<p>This also can be written in the form</p>
<p><span class="math display">\[
V _ {\text {o u t}} = 2 1. 7 \left(V _ {\text {i n}} - 0. 0 2\right)
\]</span></p>
<p>This looks like a differential amplifier with a gain of 21.7 and a fixed input of 0.02 volts to the inverting side. Thus, the schematic in Figure 36 shows how this could be done with an instrumentation amplifier. Note the voltage divider, which is used to provide the 0.02-V bias. The zener diode is used to keep the bias voltage constant against changes of the supply voltage.</p>
<p>This example illustrates an important point—that more than one signal-conditioning circuit can often be used to satisfy the requirements. The choice of which one to use often comes down to the number of parts or cost.</p>
<p>In general, when designing a signal-conditioning circuit, any required bias voltage should be provided by a resistance divider and a regulated power supply. Otherwise, any variations of the supply voltage will cause the signal conditioning to be in error since the bias voltage would be wrong. Often a simple way to provide some comfort about the stability of the source to be divided is to use a zener diode as was done in Example 20.</p>
<p>Many integrated circuit manufacturers package instrumentation amplifiers in single ICs, since they are in such common use. Many use the circuit system in Figure 35, in some cases with fixed gain and in others providing for user selection of resistors so gain can be changed.</p>
<p>A more common configuration of instrumentation amplifier, however, is the circuit shown in Figure 37. This circuit allows for selection of gain, within certain limits, by adjustment of a single resistor, <span class="math inline">\(R_{G}\)</span> . It can be shown that the CMR of this circuit, although still</p>
<p><img src="Books/Johnson_PCIT/chapter_2/6eb0e4ce25420f0e3e3b151039959a8d_MD5.jpg" class="img-fluid"></p>
<p>FIGURE 37 This instrumentation amplifier allows the gain to be changed using a single resistor.</p>
<p>dependent on careful matching of the differential amplifier resistors, does not depend on matching of the two <span class="math inline">\(R_{1}\)</span> s. The transfer function of this amplifier is given by</p>
<p><span class="math display">\[
V _ {\text {o u t}} = \left(1 + \frac {2 R _ {1}}{R _ {G}}\right) \left(\frac {R _ {3}}{R _ {2}}\right) \left(V _ {2} - V _ {1}\right) \tag {41}
\]</span></p>
<p>The input impedance is very high, and the output impedance very low. Many IC manufacturers provide this circuit with fixed differential gain and <span class="math inline">\(R_{1}\)</span> , but allow the user to insert external <span class="math inline">\(R_{G}\)</span> so the desired gain can be selected. They can thus ensure a high CMR.</p>
</section>
<section id="example-21" class="level2">
<h2 class="anchored" data-anchor-id="example-21">EXAMPLE 21</h2>
<p>Figure 38 shows a bridge circuit for which <span class="math inline">\(R_{4}\)</span> varies from <span class="math inline">\(100\Omega\)</span> to <span class="math inline">\(102\Omega\)</span> . Show how an instrumentation amplifier like that in Figure 37 could be used to provide an output of 0 to <span class="math inline">\(2.5\mathrm{V}\)</span> . Assume that <span class="math inline">\(R_{2} = R_{3} = 1\mathrm{k}\Omega\)</span> and that <span class="math inline">\(R_{1} = 100\mathrm{k}\Omega\)</span> .</p>
</section>
<section id="solution-17" class="level2">
<h2 class="anchored" data-anchor-id="solution-17">Solution</h2>
<p>Clearly, the bridge is at null when <span class="math inline">\(R_{4} = 100\Omega\)</span> . When <span class="math inline">\(R_{4} = 102\Omega\)</span> , the bridge offset voltage is found from Equation (7):</p>
<p><span class="math display">\[
\Delta V = \left(V _ {a} - V _ {b}\right) = 5 \left[ \frac {1 0 0}{1 0 0 + 1 0 0} - \frac {1 0 2}{1 0 0 + 1 0 2} \right]
\]</span></p>
<p><span class="math display">\[
\Delta V = - 2 4. 7 5 \mathrm {m V}
\]</span></p>
<p>FIGURE 38 Bridge for Example 21.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/0ba04e2460688aa1f7edd05262d3b427_MD5.jpg" class="img-fluid"></p>
<p>The negative sign shows that <span class="math inline">\(V_{b} &gt; V_{a}\)</span> . To get an output of <span class="math inline">\(2.5\mathrm{V}\)</span> at <span class="math inline">\(102\Omega\)</span> means that we need a differential gain of <span class="math inline">\(A = (2.5\mathrm{V} / 24.75\mathrm{mV}) = 101\)</span> . From Equation (41), we have</p>
<p><span class="math display">\[
1 0 1 = \left(\frac {1 + 2 0 0 , 0 0 0}{R _ {G}}\right) \left(\frac {1 0 0 0}{1 0 0 0}\right)
\]</span></p>
<p>Solving this, we find <span class="math inline">\(R_{G} = 2000\Omega\)</span> . Note also that the input of the amplifier must be connected to the bridge with <span class="math inline">\(V_{a}\)</span> connected to <span class="math inline">\(V_{1}\)</span> and <span class="math inline">\(V_{b}\)</span> connected to <span class="math inline">\(V_{2}\)</span> so that the polarity comes out correctly.</p>
</section>
<section id="voltage-to-current-converter" class="level2">
<h2 class="anchored" data-anchor-id="voltage-to-current-converter">5.5 Voltage-to-Current Converter</h2>
<p>Because signals in process control are most often transmitted as a current, specifically 4 to <span class="math inline">\(20\mathrm{mA}\)</span> , it is often necessary to employ a linear voltage-to-current converter. Such a circuit must be capable of sinking a current into a number of different loads without changing the voltage-to-current transfer characteristics. An op amp circuit that provides this function is shown in Figure 39. An analysis of this circuit shows that the relationship between current and voltage is given by (see Appendix 6)</p>
<p><span class="math display">\[
I = - \frac {R _ {2}}{R _ {1} R _ {3}} V _ {\text {i n}} \tag {42}
\]</span></p>
<p>provided that the resistances are selected so that</p>
<p><span class="math display">\[
R _ {1} \left(R _ {3} + R _ {5}\right) = R _ {2} R _ {4} \tag {43}
\]</span></p>
<p>The circuit can deliver current in either direction, as required by a particular application.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/f9c3a9e2a809c831e85e9bd74f8258fe_MD5.jpg" class="img-fluid"></p>
<p>FIGURE 39 A voltage-to-current converter using an op amp.</p>
<p>The maximum load resistance and maximum current are related and determined by the condition that the amplifier output saturates in voltage. Analysis of the circuit shows that when the op amp output voltage saturates, the maximum load resistance and maximum current are related by</p>
<p><span class="math display">\[
R _ {m l} = \frac {\left(R _ {4} + R _ {5}\right) \left[ \frac {V _ {\mathrm {s a t}}}{I _ {\mathrm {m}}} - R _ {3} \right]}{R _ {3} + R _ {4} + R _ {5}} \tag {44}
\]</span></p>
<p>where <span class="math inline">\(R_{ml} =\)</span> maximum load resistance</p>
<p><span class="math inline">\(V_{\mathrm{sat}} = \mathrm{op}\)</span> amp saturation on voltage</p>
<p><span class="math inline">\(I_{\mathrm{m}} =\)</span> maximum current</p>
<p>A study of Equation (44) shows that the maximum load resistance is always less than <span class="math inline">\(V_{\mathrm{sat}} / I_{\mathrm{m}}\)</span> . The minimum load resistance is zero.</p>
</section>
<section id="example-22" class="level2">
<h2 class="anchored" data-anchor-id="example-22">EXAMPLE 22</h2>
<p>A sensor outputs 0 to <span class="math inline">\(1\mathrm{V}\)</span> . Develop a voltage-to-current converter so that this becomes 0 to <span class="math inline">\(10\mathrm{mA}\)</span> . Specify the maximum load resistance if the op amp saturates at <span class="math inline">\(\pm 10\mathrm{V}\)</span> .</p>
</section>
<section id="solution-18" class="level2">
<h2 class="anchored" data-anchor-id="solution-18">Solution</h2>
<p>The voltage-to-current converter of Figure 39 inverts since there is a negative sign in Equation (42). Thus, we will need to use an inverting amplifier in the first stage so that the input to the voltage-to-current converter varies from 0 to <span class="math inline">\(-1\mathrm{V}\)</span> to produce a current of 0 to <span class="math inline">\(10\mathrm{mA}\)</span> . If we make <span class="math inline">\(R_{1} = R_{2}\)</span> in Figure 39, then Equation (42) reduces to <span class="math inline">\(I = V_{\mathrm{in}} / R_3\)</span> . To satisfy <span class="math inline">\(10\mathrm{mA}\)</span> at <span class="math inline">\(1\mathrm{V}\)</span> , we must have</p>
<p><span class="math display">\[
R _ {3} = 1 \mathrm {V} / 1 0 \mathrm {m A} = 1 0 0 \Omega
\]</span></p>
<p>Let us take <span class="math inline">\(R_{5} = 0\)</span> (which is allowed) so that Equation (43) also specifies</p>
<p><span class="math display">\[
R _ {3} = R _ {4} = 1 0 0 \Omega
\]</span></p>
<p>This completes the voltage-to-current converter. The maximum load resistance is found from Equation (44):</p>
<p><span class="math display">\[
R _ {m l} = 1 0 0 [ 1 0 \mathrm {V} / 1 0 \mathrm {m A} - 1 0 0 ] / 2 0 0
\]</span></p>
<p><span class="math display">\[
R _ {m l} = 4 5 0 \Omega
\]</span></p>
</section>
<section id="current-to-voltage-converter" class="level2">
<h2 class="anchored" data-anchor-id="current-to-voltage-converter">5.6 Current-to-Voltage Converter</h2>
<p>At the receiving end of the process-control signal transmission system, we often need to convert the current back into a voltage. This can be done most easily with the circuit shown in Figure 40. This circuit provides an output voltage given by</p>
<p><span class="math display">\[
V _ {\text {o u t}} = - I R \tag {45}
\]</span></p>
<p>provided the op amp saturation voltage has not been reached. The resistor, <span class="math inline">\(R\)</span> , in the non-inverting terminal is employed to provide temperature stability to the configuration.</p>
<p>FIGURE 40 A current-to-voltage converter using an op amp. Care must be taken that the current output capability of the op amp is not exceeded.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/900ffb1907a3d62101a7e852c84d118f_MD5.jpg" class="img-fluid"></p>
<p>FIGURE 41 An integrator circuit using an op amp.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/e9b09afcde36e89724b4a5494aef38fb_MD5.jpg" class="img-fluid"></p>
</section>
<section id="integrator" class="level2">
<h2 class="anchored" data-anchor-id="integrator">5.7 Integrator</h2>
<p>Another op amp circuit to be considered is the integrator. This configuration, shown in Figure 41, consists of an input resistor and a feedback capacitor. Using the ideal analysis, we can sum the currents at the summing point as</p>
<p><span class="math display">\[
\frac {V _ {\text {i n}}}{R} + C \frac {d V _ {\text {o u t}}}{d t} = 0 \tag {46}
\]</span></p>
<p>which can be solved by integrating both terms so that the circuit response is</p>
<p><span class="math display">\[
V _ {\text {o u t}} = - \frac {1}{R C} \int V _ {\text {i n}} d t \tag {47}
\]</span></p>
<p>This result shows that the output voltage varies as an integral of the input voltage with a scale factor of <span class="math inline">\(-1 / RC\)</span> . This circuit is employed in many cases where integration of a transducer output is desired.</p>
<p>Other functions also can be implemented, such as a highly linear ramp voltage. If the input voltage is constant, <span class="math inline">\(V_{\mathrm{in}} = K\)</span> , Equation (47) reduces to</p>
<p><span class="math display">\[
V _ {\text {o u t}} = - \frac {K}{R C} t \tag {48}
\]</span></p>
<p>which is a linear ramp, a negative slope of <span class="math inline">\(K / RC\)</span> . Some mechanism of reset through discharge of the capacitor must be provided, because otherwise <span class="math inline">\(V_{\mathrm{out}}\)</span> will rise to the output saturation value and remain fixed there in time.</p>
</section>
<section id="example-23" class="level2">
<h2 class="anchored" data-anchor-id="example-23">EXAMPLE 23</h2>
<p>Use an integrator to produce a linear ramp voltage rising at <span class="math inline">\(10\mathrm{V}\)</span> per ms.</p>
</section>
<section id="solution-19" class="level2">
<h2 class="anchored" data-anchor-id="solution-19">Solution</h2>
<p>An integrator circuit, as shown in Figure 41, produces a ramp of</p>
<p><span class="math display">\[
V _ {\text {o u t}} = - \frac {V _ {\text {i n}}}{R C} t
\]</span></p>
<p>when the input voltage is constant. If we make <span class="math inline">\(RC = 1\)</span> ms and <span class="math inline">\(V_{\mathrm{in}} = -10 \mathrm{~V}\)</span> , then we have</p>
<p><span class="math display">\[
V _ {\text {o u t}} = (1 0 \cdot 1 0 ^ {+ 3}) t
\]</span></p>
<p>which is a ramp rising at <span class="math inline">\(10\mathrm{V / ms}\)</span> . A choice of <span class="math inline">\(R = 1\mathrm{k}\Omega\)</span> and <span class="math inline">\(C = 1\mu \mathrm{F}\)</span> will provide the required <span class="math inline">\(RC\)</span> product.</p>
</section>
<section id="differentiator" class="level2">
<h2 class="anchored" data-anchor-id="differentiator">5.8 Differentiator</h2>
<p>It is also possible to construct an op amp circuit with an output proportional to the derivative of the input voltage. This circuit, which is shown in Figure 42, is realized with only a single capacitor and a single resistor, as in the case of the integrator. Using ideal analysis to sum currents at the summing point gives the equation</p>
<p><span class="math display">\[
C \frac {d V _ {\text {i n}}}{d t} + \frac {V _ {\text {o u t}}}{R} = 0 \tag {49}
\]</span></p>
<p>Solving for the output voltage shows that the circuit response is</p>
<p><span class="math display">\[
V _ {\text {o u t}} = - R C \frac {d V _ {\text {i n}}}{d t} \tag {50}
\]</span></p>
<p>Therefore, the output voltage varies as the derivative of the input voltage.</p>
<p>Practically speaking, this circuit exhibits erratic or even unstable response and can be used only in combination with other circuitry to depress this instability.</p>
<p>FIGURE 42 This circuit takes the time derivative of the input voltage.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/6de9467a89151b0726ec3acdfaded7d2_MD5.jpg" class="img-fluid"></p>
</section>
<section id="linearization-1" class="level2">
<h2 class="anchored" data-anchor-id="linearization-1">5.9 Linearization</h2>
<p>The op amp can also implement linearization. Generally, this is achieved by placing a nonlinear element in the feedback loop of the op amp, as shown in Figure 43. The summation of currents provides</p>
<p><span class="math display">\[
\frac {V _ {\text {i n}}}{R} + I \left(V _ {\text {o u t}}\right) = 0 \tag {51}
\]</span></p>
<p>where <span class="math inline">\(V_{\mathrm{in}} =\)</span> input voltage</p>
<p><span class="math display">\[
R = \text {i n p u t}
\]</span></p>
<p><span class="math inline">\(I(V_{\mathrm{out}}) =\)</span> nonlinear variation of current with voltage</p>
<p>If Equation (51) is solved (in principle) for <span class="math inline">\(V_{\mathrm{out}}\)</span> , we get</p>
<p><span class="math display">\[
V _ {\text {o u t}} = G \left(\frac {V _ {\text {i n}}}{R}\right) \tag {52}
\]</span></p>
<p>where <span class="math inline">\(V_{\mathrm{out}} = \mathrm{output~voltage}\)</span></p>
<p><span class="math inline">\(G\left(\frac{V_{\mathrm{in}}}{R}\right) = \frac{\text{a nonlinear function of the input voltage [actually the inverse function of } I(V_{\mathrm{out}})}{R}\)</span></p>
<p>Thus, as an example, if a diode is placed in the feedback as shown in Figure 44, the function <span class="math inline">\(I(V_{\mathrm{out}})\)</span> is an exponential</p>
<p><span class="math display">\[
I \left(V _ {\text {o u t}}\right) = I _ {0} \exp \left(\alpha V _ {\text {o u t}}\right) \tag {53}
\]</span></p>
<p>where <span class="math inline">\(I_0 =\)</span> amplitude constant</p>
<p><span class="math inline">\(\alpha =\)</span> exponential constant</p>
<p>FIGURE 43 A nonlinear amplifier uses a nonlinear feedback element.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/316c759a8a908f954a28272499b7faa4_MD5.jpg" class="img-fluid"></p>
<p>FIGURE 44 A diode in the feedback as a nonlinear element produces a logarithmic amplifier.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/ae8c7b13b69768a966d44e25548ef223_MD5.jpg" class="img-fluid"></p>
<p>The inverse of this is a logarithm, and thus Equation (53) becomes</p>
<p><span class="math display">\[
V _ {\text {o u t}} = \frac {1}{\alpha} \log_ {\mathrm {c}} \left(V _ {\mathrm {i n}}\right) - \frac {1}{\alpha} \log_ {\mathrm {e}} \left(I _ {0} R\right) \tag {54}
\]</span></p>
<p>which thus constitutes a logarithmic amplifier.</p>
<p>Different feedback devices can produce amplifiers that only smooth out nonlinear variations or provide specified operations, such as the logarithmic amplifier.</p>
</section>
<section id="design-guidelines" class="level2">
<h2 class="anchored" data-anchor-id="design-guidelines">6 DESIGN GUIDELINES</h2>
<p>This section discusses typical issues that should be considered when designing an analog signal-conditioning system. The examples show how the guidelines can be used to develop a design. The guidelines ensure that the problem is clearly understood and that the important issues are included.</p>
<p>Not every guideline will be important in every design, so some will not be applicable. In many cases, not enough information will be available to address an issue properly; then the designer must exercise good technical judgment in accounting for that part of the design.</p>
<p>Figure 45 shows the measurement and signal-conditioning model. In some cases, the entire system is to be developed, from selecting the sensor to designing the signal conditioning. In other cases, only the signal conditioning will be developed. The guidelines are generalized. Since the sensor is selected from what is available, the actual design is really for the signal conditioning.</p>
</section>
<section id="guidelines-for-analog-signal-conditioning-design" class="level2">
<h2 class="anchored" data-anchor-id="guidelines-for-analog-signal-conditioning-design">Guidelines for Analog Signal-Conditioning Design</h2>
</section>
<section id="define-the-measurement-objective." class="level2">
<h2 class="anchored" data-anchor-id="define-the-measurement-objective.">1. Define the measurement objective.</h2>
<ol type="a">
<li>Parameter What is the nature of the measured variable: pressure, temperature, flow, level, voltage, current, resistance, and so forth?</li>
</ol>
<p><img src="Books/Johnson_PCIT/chapter_2/71d4d43aa4dab787bc20f373a5f5c176_MD5.jpg" class="img-fluid"></p>
<p>FIGURE 45 Model for measurement and signal-conditioning objectives.</p>
<ol start="2" type="a">
<li><p>Range What is the range of the measurement: <span class="math inline">\(100^{\circ}\)</span> to <span class="math inline">\(200^{\circ}\mathrm{C}\)</span> , 45 to 85 psi, 2 to <span class="math inline">\(4\mathrm{V}\)</span> , and so forth?</p></li>
<li><p>Accuracy What is the required accuracy: <span class="math inline">\(5\%\)</span> FS, <span class="math inline">\(3\%\)</span> of reading, and so forth?</p></li>
<li><p>Linearity Must the measurement output be linear?</p></li>
<li><p>Noise What is the noise level and frequency spectrum of the measurement environment?</p></li>
</ol>
<ol type="1">
<li>Select a sensor (if applicable).</li>
</ol>
<ol type="a">
<li><p>Parameter What is the nature of the sensor output: resistance, voltage, and so forth?</p></li>
<li><p>Transfer function What is the relationship between the sensor output and the measured variable: linear, graphical, equation, accuracy, and so forth?</p></li>
<li><p>Time response What is the time response of the sensor: first-order time constant, second-order damping, and frequency?</p></li>
<li><p>Range What is the range of sensor parameter output for the given measurement range?</p></li>
<li><p>Power What is the power specification of the sensor: resistive dissipation maximum, current draw, and so forth?</p></li>
</ol>
<ol type="1">
<li>Design the analog signal conditioning (S/C).</li>
</ol>
<ol type="a">
<li><p>Parameter What is the nature of the desired output? The most common is voltage, but current and frequency are sometimes specified. In the latter cases, conversion to voltage is still often a first step.</p></li>
<li><p>Range What is the desired range of the output parameter (e.g., 0 to <span class="math inline">\(5\mathrm{V}\)</span> , 4 to <span class="math inline">\(20\mathrm{mA}\)</span> , 5 to <span class="math inline">\(10\mathrm{kHz}\)</span> )?</p></li>
<li><p>Input impedance What input impedance should the S/C present to the input signal source? This is very important in preventing loading of a voltage signal input.</p></li>
<li><p>Output impedance What output impedance should the S/C offer to the output load circuit?</p></li>
</ol>
<ol type="1">
<li>Notes on analog signal-conditioning design.</li>
</ol>
<ol type="a">
<li><p>If the input is a resistance change and a bridge or divider must be used, be sure to consider both the effect of output voltage nonlinearity with resistance and the effect of current through the resistive sensor.</p></li>
<li><p>For the op amp portion of the design, the easiest design approach is to develop an equation for output versus input. From this equation, it will be clear what types of circuits may be used. This equation represents the static transfer function of the signal conditioning.</p></li>
<li><p>Always consider any possible loading of voltage sources by the signal conditioning. Such loading is a direct error in the measurement system.</p></li>
</ol>
<p>The following examples apply these guidelines to measurement signal-conditioning problems.</p>
</section>
<section id="example-24" class="level2">
<h2 class="anchored" data-anchor-id="example-24">EXAMPLE 24</h2>
<p>A sensor outputs a voltage ranging from <span class="math inline">\(-2.4\)</span> to <span class="math inline">\(-1.1\mathrm{V}\)</span> . For interface to an analog-to-digital converter, this needs to be 0 to <span class="math inline">\(2.5\mathrm{V}\)</span> . Develop the required signal conditioning.</p>
</section>
<section id="solution-20" class="level2">
<h2 class="anchored" data-anchor-id="solution-20">Solution</h2>
<p>For this type of problem, no information is provided about the measured variable, the measurement environment, or the sensor. We are simply asked to provide a voltage-to-voltage conversion. Since the source impedance is not known, it is good design practice to assume it is high and to design a high-input-impedance system to avoid loading. Most ADCs have input impedances of at least tens of kilohms, and the output impedance of op amp circuits is quite low, so there is no real concern for the output impedance of the S/C system.</p>
<p>For this type of problem, it is easiest to develop an equation for the output in terms of the input. From this, circuits can be envisioned.</p>
<p><span class="math display">\[
V _ {\text {o u t}} = m V _ {\text {i n}} + V _ {0}
\]</span></p>
<p>Using the specified information, we form two equations for the unknown slope (gain), <span class="math inline">\(m\)</span> and offset (bias), <span class="math inline">\(V_{0}\)</span> .</p>
<p><span class="math display">\[
\begin{array}{l} 0 = - 2. 4 m + V _ {0} \\ 2. 5 = - 1. 1 m + V _ {0} \\ \end{array}
\]</span></p>
<p>Clearly, from the first equation we have <span class="math inline">\(V_{0} = 2.4m\)</span> , and when this is substituted into the second equation, we get</p>
<p><span class="math display">\[
2. 5 = - 1. 1 m + 2. 4 m
\]</span></p>
<p>Then, solving for <span class="math inline">\(m\)</span></p>
<p><span class="math display">\[
m = 2. 5 / (2. 4 - 1. 1) = 1. 9 2 3
\]</span></p>
<p>The transfer function equation is thus</p>
<p><span class="math display">\[
V _ {\text {o u t}} = 1. 9 2 3 V _ {\text {i n}} + 4. 6 1 5
\]</span></p>
<p>There are many ways to satisfy this equation. A summing amplifier could be used, but it does not have high input impedance, so a voltage follower would be needed at the input. Also, the summing amplifier inverts, so an inverter would be required to get the correct sign. The circuit is shown in Figure 46. Note that the bias has been provided by a divider. A 15-V supply has been assumed for the divider resistance calculations. The <span class="math inline">\(100 - \Omega\)</span> resistor was selected to keep loading by the op amp circuit small. A trimmer (variable) resistor has been used, so both loading of the divider by the op amp circuit and variation of the supply from exactly <span class="math inline">\(15\mathrm{V}\)</span> can be compensated for by adjusting until the bias is exactly <span class="math inline">\(4.615\mathrm{V}\)</span> .</p>
<p>The design could also be accomplished by a differential amplifier. If the 1.923 in the transfer equation is factored, we get</p>
<p><span class="math display">\[
V _ {\text {o u t}} = 1. 9 2 3 \left(V _ {\text {i n}} + 2. 4\right)
\]</span></p>
<p><img src="Books/Johnson_PCIT/chapter_2/b6dedccb57bff08e3e47f1240d9661c0_MD5.jpg" class="img-fluid"></p>
<p>FIGURE 46 One possible solution to Example 24.</p>
<p>So this is the equation of a differential amplifier with a gain of 1.923 and one input fixed at <span class="math inline">\(2.4\mathrm{V}\)</span> . A voltage follower would still be required on the input. (The reader should complete this design.)</p>
</section>
<section id="example-25" class="level2">
<h2 class="anchored" data-anchor-id="example-25">EXAMPLE 25</h2>
<p>Temperature is to be measured in the range of <span class="math inline">\(250^{\circ}\mathrm{C}\)</span> to <span class="math inline">\(450^{\circ}\mathrm{C}\)</span> with an accuracy of <span class="math inline">\(\pm 2^{\circ}\mathrm{C}\)</span> . The sensor is a resistance that varies linearly from <span class="math inline">\(280\Omega\)</span> to <span class="math inline">\(1060\Omega\)</span> for this temperature range. Power dissipated in the sensor must be kept below <span class="math inline">\(5\mathrm{mW}\)</span> . Develop analog signal conditioning that provides a voltage varying linearly from <span class="math inline">\(-5\)</span> to <span class="math inline">\(+5\mathrm{V}\)</span> for this temperature range. The load is a high-impedance recorder.</p>
</section>
<section id="solution-21" class="level2">
<h2 class="anchored" data-anchor-id="solution-21">Solution</h2>
<p>Following the guidelines, let us first identify all the elements of the problem.</p>
</section>
<section id="measured-variable-parameter-temperature" class="level2">
<h2 class="anchored" data-anchor-id="measured-variable-parameter-temperature">Measured Variable Parameter: Temperature</h2>
<p>Range: <span class="math inline">\(250^{\circ}\)</span> to <span class="math inline">\(450^{\circ}\mathrm{C}\)</span></p>
<p>Accuracy: <span class="math inline">\(\pm 2^{\circ}\mathrm{C}\)</span></p>
<p>Noise: unspecified</p>
</section>
<section id="sensor-signal" class="level2">
<h2 class="anchored" data-anchor-id="sensor-signal">Sensor Signal</h2>
<p>Parameter: resistance</p>
<p>Transfer function: linear</p>
<p>Time response: unspecified</p>
<p>Range: <span class="math inline">\(280\Omega\)</span> to <span class="math inline">\(1060\Omega\)</span> , linear</p>
<p>Power: maximum <span class="math inline">\(5\mathrm{mW}\)</span> dissipated in sensor</p>
</section>
<section id="signal-conditioning" class="level2">
<h2 class="anchored" data-anchor-id="signal-conditioning">Signal Conditioning</h2>
<p>Parameter: voltage, linear</p>
<p>Range: <span class="math inline">\(-5\)</span> to <span class="math inline">\(+5\mathrm{V}\)</span></p>
<p>Input impedance: keep power in sensor below <span class="math inline">\(5\mathrm{mW}\)</span></p>
<p>Output impedance: no problem, high-impedance recorder</p>
<p>The accuracy is <span class="math inline">\(\pm 0.8\%\)</span> at the low end and <span class="math inline">\(\pm 0.44\%\)</span> at the high end. Therefore, we will keep three significant figures to provide <span class="math inline">\(0.1\%\)</span> on values selected.</p>
<p>The 5-mW maximum sensor dissipation means the current must be limited. To find the maximum current, we note that</p>
<p><span class="math display">\[
P = I ^ {2} R
\]</span></p>
<p><span class="math display">\[
0. 0 0 5 = I ^ {2} R
\]</span></p>
<p><span class="math display">\[
I = \sqrt {0 . 0 0 5 / R}
\]</span></p>
<p>The minimum current will thus occur at the maximum resistance,</p>
<p><span class="math display">\[
I _ {\max } = \sqrt {0 . 0 0 5 / 1 0 6 0} = 2. 1 7 \mathrm {m A}
\]</span></p>
<p>Thus, the design must always keep the sensor current below <span class="math inline">\(2\mathrm{mA}\)</span> .</p>
<p>Since the system must be linear, we should set up a linear equation between the sensor resistance and the output voltage. Then it is a matter of determining what circuits will implement the equation.</p>
<p><span class="math display">\[
V _ {\text {o u t}} = m R _ {s} + V _ {0}
\]</span></p>
<p>We solve for <span class="math inline">\(m\)</span> and <span class="math inline">\(V_{0}\)</span> by using the given information,</p>
<p><span class="math display">\[
- 5 = 2 8 0 m + V _ {0}
\]</span></p>
<p><span class="math display">\[
+ 5 = 1 0 6 0 m + V _ {0}
\]</span></p>
<p>Subtracting the first equation from the second gives</p>
<p><span class="math display">\[
1 0 = 7 8 0 m \quad \text {o r} \quad m = 0. 0 1 2 8
\]</span></p>
<p>Then, using this in the first equation,</p>
<p><span class="math display">\[
- 5 = 2 8 0 (0. 0 1 2 8) + V _ {0}
\]</span></p>
<p><span class="math display">\[
V _ {0} = - 8. 5 8
\]</span></p>
<p>So the transfer function equation is</p>
<p><span class="math display">\[
V _ {\text {o u t}} = 0. 0 1 2 8 R _ {s} - 8. 5 8
\]</span></p>
<p>This can be provided by an inverting amplifier with the sensor resistor in the feedback, followed by an inverting summer to get the signs correct. Figure 47 shows one possible solution. The fixed input voltage and input resistor of the first op amp have been selected to satisfy the <span class="math inline">\(5\mathrm{-mW}\)</span> maximum power dissipation. This has been done by noting that the current through the sensor is just equal to the current through the input circuit. Thus, by using <span class="math inline">\(1.00\mathrm{k}\Omega\)</span> and <span class="math inline">\(1.00\mathrm{V}\)</span> , the current will always be <span class="math inline">\(1\mathrm{mA}\)</span> and thus less than <span class="math inline">\(2\mathrm{mA}\)</span> , as required.</p>
<p><img src="Books/Johnson_PCIT/chapter_2/354fb74f95c05a9af9df6c8ca97f57ed_MD5.jpg" class="img-fluid"></p>
<p>FIGURE 47 One possible solution for Example 25.</p>
<p>As in Example 24, trimmers are used in dividers so the fixed voltages can be adjusted to <span class="math inline">\(1.00\)</span> and <span class="math inline">\(8.58\mathrm{V}\)</span> and thus account for supply voltage differences. The alternative would be to use a zener diode as the source.</p>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">SUMMARY</h2>
<p>The signal conditioning discussed in this chapter relates to the standard techniques employed for providing signal compatibility and measurement in analog systems. The reader is introduced to the basic concepts that form the foundation of such analog conditioning.</p>
<p>To present a complete picture of analog signal conditioning, the following points were considered:</p>
<ol type="1">
<li>The need for analog signal conditioning was reviewed and resolved into the requirements of signal-level changes, linearization, signal conversions, and filtering and impedance matching.</li>
<li>Bridge circuits are a common example of a conversion process where a changing resistance is measured either by a current or by a voltage signal. Many modifications of the bridge are used, including electronic balancing and techniques of lead compensation.</li>
<li>The highand low-pass <span class="math inline">\(RC\)</span> filters are passive circuits used to block undesired frequencies from data signals.</li>
<li>Operational amplifiers (op amps) are a special signal-conditioning building block around which many special-function circuits can be developed. The device was demonstrated in applications involving amplifiers, converters, linearization circuits, integrators, and several other functions.</li>
</ol>
</section>
<section id="problems" class="level2">
<h2 class="anchored" data-anchor-id="problems">PROBLEMS</h2>
</section>
<section id="section-2" class="level2">
<h2 class="anchored" data-anchor-id="section-2">Section 2</h2>
<p>1 Derive Equation (1) for general circuit loading.</p>
<p>2 The unloaded output of a sensor is a sinusoid at <span class="math inline">\(200\mathrm{Hz}\)</span> and <span class="math inline">\(5\mathrm{V}\)</span> rms amplitude. Its output impedance is <span class="math inline">\(2000 + 600j\)</span> . If a <span class="math inline">\(0.22 - \mu \mathrm{F}\)</span> capacitor is placed across the output as a load, what is the sensor output rms voltage amplitude?</p>
</section>
<section id="section-3" class="level2">
<h2 class="anchored" data-anchor-id="section-3">Section 3</h2>
<p>3 A sensor resistance varies from 520 to <span class="math inline">\(2500\Omega\)</span> . This is used for <span class="math inline">\(R_{1}\)</span> in the divider of Figure 4, along with <span class="math inline">\(R_{2} = 500\Omega\)</span> and <span class="math inline">\(V_{s} = 10.0\mathrm{V}\)</span> . Find (a) the range of the divider voltage, <span class="math inline">\(V_{D},\)</span> and (b) the range of power dissipation by the sensor.</p>
<p>4 Prepare graphs of the divider voltage versus transducer resistance for Example 2 and Problem 3. Does the voltage vary linearly with resistance? Does the voltage increase or decrease with resistance?</p>
<p>5 Show how the bridge offset equation given as Equation (7) can be derived from Equation (6).</p>
<p>6 Derive Equation (10) for the bridge circuit Thévenin resistance.</p>
<p>7 A Wheatstone bridge, as shown in Figure 5, nulls with <span class="math inline">\(R_{1} = 227\Omega\)</span> , <span class="math inline">\(R_{2} = 448\Omega\)</span> , and <span class="math inline">\(R_{3} = 1414\Omega\)</span> . Find <span class="math inline">\(R_{4}\)</span> .</p>
<p>8 A sensor with a nominal resistance of <span class="math inline">\(50\Omega\)</span> is used in a bridge with <span class="math inline">\(R_{1} = R_{2} = 100\Omega, V = 10.0\mathrm{V}\)</span> , and <span class="math inline">\(R_{3} = 100 - \Omega\)</span> potentiometer. It is necessary to resolve <span class="math inline">\(0.1 - \Omega\)</span> changes of the sensor resistance.</p>
<ol type="a">
<li><p>At what value of <span class="math inline">\(R_{3}\)</span> will the bridge null?</p></li>
<li><p>What voltage resolution must the null detector possess?</p></li>
</ol>
<p>9 A bridge circuit is used with a sensor located <span class="math inline">\(100\mathrm{m}\)</span> away. The bridge is not lead compensated, and the cable to the sensor has a resistance of <span class="math inline">\(0.45\Omega /\mathrm{ft}\)</span> . The bridge nulls with <span class="math inline">\(R_{1} = 3400\Omega\)</span> , <span class="math inline">\(R_{2} = 3445\Omega\)</span> , and <span class="math inline">\(R_{3} = 1560\Omega\)</span> . What is the sensor resistance?</p>
<p>10 The bridge in Figure 5 has <span class="math inline">\(R_{1} = 250\Omega\)</span> , <span class="math inline">\(R_{3} = 500\Omega\)</span> , <span class="math inline">\(R_{4} = 340\Omega\)</span> , and <span class="math inline">\(V = 1.5\mathrm{V}\)</span> . The detector is a galvanometer with <span class="math inline">\(R_{G} = 150\Omega\)</span> .</p>
<ol type="a">
<li><p>Find the value of <span class="math inline">\(R_{2}\)</span> that will null the bridge.</p></li>
<li><p>Find the offset current that will result if <span class="math inline">\(R_{2} = 190\Omega\)</span></p></li>
</ol>
<p>11 A current balance bridge, shown in Figure 8, has resistances of <span class="math inline">\(R_{1} = R_{2} = 1\mathrm{k}\Omega\)</span> , <span class="math inline">\(R_{4} = 590\Omega\)</span> , <span class="math inline">\(R_{5} = 10\Omega\)</span> , and <span class="math inline">\(V = 10.0\mathrm{V}\)</span> .</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>