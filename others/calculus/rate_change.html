<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>rate_change – Presenta</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-e31584831b205ffbb2d98406f31c2a5b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Presenta</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#rates-of-change" id="toc-rates-of-change" class="nav-link active" data-scroll-target="#rates-of-change">Rates of Change</a>
  <ul class="collapse">
  <li><a href="#average-velocity" id="toc-average-velocity" class="nav-link" data-scroll-target="#average-velocity">Average velocity</a></li>
  <li><a href="#instantaneous-velocity" id="toc-instantaneous-velocity" class="nav-link" data-scroll-target="#instantaneous-velocity">Instantaneous velocity</a></li>
  <li><a href="#computing-an-instantaneous-rate-of-change-of-any-function" id="toc-computing-an-instantaneous-rate-of-change-of-any-function" class="nav-link" data-scroll-target="#computing-an-instantaneous-rate-of-change-of-any-function">Computing an instantaneous rate of change of any function</a></li>
  <li><a href="#the-equation-of-a-tangent-line" id="toc-the-equation-of-a-tangent-line" class="nav-link" data-scroll-target="#the-equation-of-a-tangent-line">The equation of a tangent line</a></li>
  <li><a href="#the-derivative-of-a-function-at-a-point" id="toc-the-derivative-of-a-function-at-a-point" class="nav-link" data-scroll-target="#the-derivative-of-a-function-at-a-point">The Derivative of a Function at a Point</a></li>
  <li><a href="#applications-and-units-of-derivatives" id="toc-applications-and-units-of-derivatives" class="nav-link" data-scroll-target="#applications-and-units-of-derivatives">Applications and units of derivatives</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="rates-of-change" class="level2">
<h2 class="anchored" data-anchor-id="rates-of-change">Rates of Change</h2>
<section id="average-velocity" class="level3">
<h3 class="anchored" data-anchor-id="average-velocity">Average velocity</h3>
<p>is the distance traveled and <span class="math inline">\(\Delta t\)</span> is the time elapsed. We use<br>
the Greek letter <span class="math inline">\(\Delta\)</span> to mean “change in”. If we start at<br>
position <span class="math inline">\(s(t_0)\)</span> at time <span class="math inline">\(t_0\)</span> and end up at position <span class="math inline">\(s(t_1)\)</span> at<br>
time <span class="math inline">\(t_1\)</span>, then<br>
<span class="math inline">\(\Delta s = s(t_1) - s(t_0)\)</span><br>
<span class="math inline">\(\Delta t = t_1 - t_0\)</span><br>
If you plot position against time on a graph, <span class="math inline">\(v_{avg}\)</span> is the slope of a <font color="#cc6600"><strong>secant line</strong></font>.</p>
<section id="video" class="level4">
<h4 class="anchored" data-anchor-id="video">Video</h4>
<p><a href="https://www.youtube.com/embed/Dzw-VtChCZA"><img src="https://img.youtube.com/vi/Dzw-VtChCZA/0.jpg" class="img-fluid" alt="Video"></a><br>
To get the <font color="#cc6600"><strong>instantaneous velocity</strong></font> at a particular time <span class="math inline">\(t=a\)</span>, we average over shorter and shorter time intervals. That is, we compute the <font color="#cc6600"><strong>average velocity</strong></font> between time <span class="math inline">\(a\)</span> and <span class="math inline">\(a + \Delta t\)</span>, and then take a limit as <span class="math inline">\(\Delta t \to 0\)</span>. On a graph, this is taking the slope of secant lines between points that are getting closer and closer. In the limit, we get the slope of a <font color="#cc6600"><strong>tangent line</strong></font>.<br>
Whether we think in terms of velocity or slope, we get a limit: <span class="math inline">\(\lim_{\Delta t \to 0} \frac{s(a+\Delta t)-s(a)}{\Delta t}.\)</span> This can also be written as: <span class="math inline">\(\lim_{t \to a} \frac{s(t)-s(a)}{t-a}\)</span>, where <span class="math inline">\(t=a+\Delta t\)</span>. This quantity (if the limit exists) is called the <font color="#cc6600"><strong>derivative</strong></font> of <span class="math inline">\(s(t)\)</span> at time <span class="math inline">\(t=a\)</span>.<br>
In the animations below, <span class="math inline">\(a=3\)</span>, the <span class="math inline">\(x\)</span> coordinate of point <span class="math inline">\(P\)</span>; and <span class="math inline">\(a+\Delta x\)</span> is the <span class="math inline">\(x\)</span>-coordinate of point <span class="math inline">\(Q\)</span>. The movement is the point <span class="math inline">\(Q\)</span> approaching the point <span class="math inline">\(P\)</span>, which means <span class="math inline">\(3+\Delta x\)</span> is getting closer to <span class="math inline">\(3\)</span>, which means <font color="#cc6600"><span class="math inline">\(\Delta x\)</span> is getting closer to <span class="math inline">\(0\)</span></font>. The red tangent line (at <span class="math inline">\(P\)</span>) is the limit of the blue secant lines through <span class="math inline">\(P\)</span> and <span class="math inline">\(Q\)</span>. Note that <span class="math inline">\(\Delta x\)</span> can be positive (first animation) or negative (second animation). For the derivative to exist, the limits as <span class="math inline">\(\Delta x \to 0^+\)</span> and <span class="math inline">\(\Delta x \to 0^-\)</span> must give the same answer.</p>
</section>
<section id="animations" class="level4">
<h4 class="anchored" data-anchor-id="animations">Animations</h4>
<p><img src="tangent1.gif" width="45%"><img src="tangent2.gif" width="45%"><br>
(Animations from <a href="http://facultypages.morris.umn.edu/%7Emcquarrb/teachingarchive/M1101/Resources/Lecture2.1.html">Barry McQuarrie</a>)</p>
</section>
</section>
<section id="instantaneous-velocity" class="level3">
<h3 class="anchored" data-anchor-id="instantaneous-velocity">Instantaneous velocity</h3>
<p>In the following video, we illustrate this concept by considering the instantaneous velocity at time <span class="math inline">\(t=2\)</span> of a particle with position <span class="math inline">\(s(t)=4t^2+3\)</span>, where <span class="math inline">\(t\)</span> is time in seconds, and <span class="math inline">\(s\)</span> is position in feet.</p>
<blockquote class="blockquote">
<p><a href="https://www.youtube.com/embed/pu9DuRA0q1Q">https://www.youtube.com/embed/pu9DuRA0q1Q</a></p>
</blockquote>
<p>We now show here the computation of the instantaneous velocity at time <span class="math inline">\(t=2\)</span> seconds of a particle with position <span class="math inline">\(s(t)=4t^2+3\)</span> feet. We will need to compute either<br>
<span class="math inline">\((1) \lim_{t\to 2}\frac{s(t)-s(2)}{t-2},\qquad\text{ or }\qquad (2) \lim_{h\to 0}\frac{s(2+h)-s(2)}{h}.\)</span></p>
<p><strong>DO:</strong> Work through these examples carefully. Try to compute both limits before looking at the solutions below. The first one is also done on the previous video.</p>
<section id="computation" class="level4">
<h4 class="anchored" data-anchor-id="computation">Computation</h4>
<p><span class="math inline">\((1)\quad \lim_{t\to 2}\frac{s(t)-s(2)}{t-2}=\lim_{t\to 2}\frac{(4t^2+3)-(4(2)^2+3)}{t-2}\)</span><br>
<span class="math inline">\(=\lim_{t\to 2}\frac{4t^2+3-16-3}{t-2}=\lim_{t\to 2}\frac{4t^2-16}{t-2}\)</span><br>
<span class="math inline">\(=\lim_{t\to 2}\frac{4(t^2-4)}{t-2}=\lim_{t\to 2}\frac{4(t-2)(t+2)}{t-2}=\lim_{t\to 2}4(t+2)=4(4)=16\)</span></p>
<p><span class="math inline">\((2)\quad \lim_{h\to 0}\frac{s(2+h)-s(2)}{h}=\lim_{h\to 0}\frac{(4(2+h)^2+3)-(4(2^2)+3)}{h}\)</span><br>
<span class="math inline">\(=\lim_{h\to 0}\frac{4(4+4h+h^2)+3-4(4)-3}{h}\)</span><br>
<span class="math inline">\(=\lim_{h\to 0}\frac{16+16h+4h^2-16}{h}=\lim_{h\to 0}\frac{16h+4h^2}{h}=\lim_{h\to 0}(16+4h)=16\)</span></p>
<p>Notice that in both computations (until the denominator was cancelled) if we plugged <span class="math inline">\(t=2\)</span> in, we would get the indeterminate form <span class="math inline">\(\frac{0}{0}\)</span> (<strong>try it</strong>) so we had to <strong>do more work</strong>.</p>
<p>We see that the <font color="#cc6600">instantaneous velocity</font> at <span class="math inline">\(t=2\)</span> is 16 <font color="#cc6600">feet/second</font>. Notice that the units come from the units of the numerator (feet) and the denominator (seconds) of the function we are taking the limit of–the average velocity function).</p>
<p>Also notice that the work required in either computation is similar. Often students prefer method (1), but in the next section you will be forced to use method (2), so be sure you practice it at least as much as method (1).</p>
</section>
</section>
<section id="computing-an-instantaneous-rate-of-change-of-any-function" class="level3">
<h3 class="anchored" data-anchor-id="computing-an-instantaneous-rate-of-change-of-any-function">Computing an instantaneous rate of change of any function</h3>
<p>}(2)_{h}.</p>
<p><strong>DO:</strong> Work through these examples carefully. Try to compute both limits above before looking at the solutions below.</p>
<p><span class="math inline">\((1)\quad f'(3)=\lim_{x\to 3}\frac{f(x)-f(3)}{x-3}=\lim_{x\to 3}\frac{\sqrt x-\sqrt 3}{x-3}\)</span><br>
<span class="math inline">\(=\lim_{x\to 3}\frac{\sqrt x-\sqrt 3}{x-3}\frac{\sqrt x+\sqrt 3}{\sqrt x+\sqrt 3}\)</span><br>
<span class="math inline">\(=\lim_{x\to 3}\frac{x-3}{(x-3)(\sqrt x+\sqrt 3)}\)</span><br>
<span class="math inline">\(=\lim_{x\to 3}\frac{1}{\sqrt x+\sqrt 3}=\frac{1}{\sqrt 3+\sqrt 3}=\frac{1}{2\sqrt 3}\)</span></p>
<p><span class="math inline">\((2)\quad f'(3)=\lim_{h\to 0}\frac{f(3+h)-f(3)}{h}=\lim_{h\to 0}\frac{\sqrt{3+h}-\sqrt 3}{h}\)</span><br>
<span class="math inline">\(=\lim_{h\to 0}\frac{\sqrt{3+h}-\sqrt 3}{h}\frac{\sqrt{3+h}+\sqrt 3}{\sqrt{3+h}+\sqrt 3}\)</span><br>
<span class="math inline">\(=\lim_{h\to 0}\frac{(3+h)-3}{h(\sqrt{3+h}+\sqrt 3)}=\lim_{h\to 0}\frac{h}{h(\sqrt{3+h}+\sqrt 3)}\)</span><br>
<span class="math inline">\(=\lim_{h\to 0}\frac{1}{\sqrt{3+h}+\sqrt 3}=\lim_{h\to 0}\frac{1}{\sqrt 3+\sqrt 3}=\frac{1}{2\sqrt 3}\)</span></p>
<p>We see that <strong>the derivative of <span class="math inline">\(f\)</span> at <span class="math inline">\(x=3\)</span></strong> is <span class="math inline">\(\frac{1}{2\sqrt 3}\)</span>, i.e.&nbsp;<span class="math inline">\(f'(3)=\frac{1}{2\sqrt 3}\)</span>.</p>
<p>Just as in the prior slide computing instantaneous velocity, notice that in both computations (until the denominator was cancelled) if we plugged <span class="math inline">\(x=3\)</span> in, we would get the indeterminate form <span class="math inline">\(\frac{0}{0}\)</span> (<strong>try it</strong>) so we had to <strong>do more work</strong>.</p>
<p>Also, again notice that the work required in either computation is similar. <strong>Be sure you practice method (2)</strong>.</p>
</section>
<section id="the-equation-of-a-tangent-line" class="level3">
<h3 class="anchored" data-anchor-id="the-equation-of-a-tangent-line">The equation of a tangent line</h3>
<p>Suppose we have a curve <span class="math inline">\(y=f(x)\)</span>. To get the <font color="#cc6600">equation of the line tangent to our curve </font>at <span class="math inline">\((a,f(a))\)</span>:</p>
<ol type="1">
<li><strong>Figure out the slope of the tangent line</strong>. This is <span class="math inline">\(m = f'(a)=\lim_{x \to a} \frac{f(x)-f(a)}{x-a} = \lim_{h \to 0} \frac{f(a+h)-f(a)}{h}.\)</span></li>
<li><strong>Use the point-slope formula</strong> <span class="math inline">\(y-y_1 = m(x-x_1)\)</span> given <span class="math inline">\(m=f'(a)\)</span> and the point <span class="math inline">\((x_1,y_1)=(a, f(a))\)</span> to get the equation of the line: <span class="math inline">\(y - f(a) = f'(a) (x-a).\)</span></li>
</ol>
<p>Notice: The <font color="#cc6600"><strong>slope</strong></font> of the tangent line to a function <span class="math inline">\(f\)</span> at <span class="math inline">\(x=a\)</span> is given by the <font color="#cc6600"><strong>derivative</strong></font> <span class="math inline">\(f'(a)\)</span>.<br>
Say to yourself: slope derivative, derivative slope, slope derivative, and more such. These two concepts are tied together, where the derivative is at the point of tangency.</p>
<p><strong><em>DO</em></strong>: Let <span class="math inline">\(g\)</span> be a function for which <span class="math inline">\(g(4)=6\)</span> and <span class="math inline">\(g'(4)=7\)</span>. What is the slope of the line tangent to <span class="math inline">\(g\)</span> at <span class="math inline">\(x=4\)</span>? What is the equation to the tangent line of <span class="math inline">\(g\)</span> at <span class="math inline">\(x=4\)</span>? <strong><em>Hint</em></strong>: use the box above, where <span class="math inline">\(f\)</span> is <span class="math inline">\(g\)</span> here, <span class="math inline">\(a\)</span> is <span class="math inline">\(4\)</span> here, and <span class="math inline">\(f(a)\)</span> is <span class="math inline">\(g(4)\)</span> here.</p>
<p>Remember, the point-slope formula <span class="math inline">\(y-y_1=m(x-x_1)\)</span> is the best way to compute the equation of the tangent line, for reasons that will become apparent later, so practice with that form of the line (even if you have a preferred other method, such as plugging in a point to the slope-intercept form <span class="math inline">\(y=mx+b\)</span>.</p>
<p><a href="https://www.youtube.com/embed/jxD-grzKx_A">Video: Tangent Line Equation</a></p>
</section>
<section id="the-derivative-of-a-function-at-a-point" class="level3">
<h3 class="anchored" data-anchor-id="the-derivative-of-a-function-at-a-point">The Derivative of a Function at a Point</h3>
<section id="the-meaning-of-this-derivative" class="level4">
<h4 class="anchored" data-anchor-id="the-meaning-of-this-derivative">The meaning of this derivative</h4>
<p>The number which is the <strong>derivative of <span class="math inline">\(f\)</span> at <span class="math inline">\(x=a\)</span></strong>, denoted by <strong><span class="math inline">\(f'(a)\)</span></strong>, gives us the <strong>instantaneous rate of change</strong> of the function <span class="math inline">\(f\)</span> with respect to <span class="math inline">\(x\)</span> when <span class="math inline">\(x=a\)</span>.</p>
<p>If we are considering the graph of <span class="math inline">\(f\)</span>, <strong><span class="math inline">\(f'(a)\)</span></strong> gives us the <strong>slope of the tangent line</strong> of <span class="math inline">\(f\)</span> at $x=a`.</p>
<p><font color="#009900"><strong>DO</strong>: Learn: The <strong>derivative</strong> of a function at a point gives us the<br>
&nbsp;&nbsp;&nbsp;&nbsp;<strong>instantaneous rate of change</strong> of that function at that point and the <strong>slope of the tangent line</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;of that function at that point.</font></p>
<p><font color="#cc0000"><strong>Warning:</strong></font> The <strong>definition</strong> of the derivative at a point is above. Some of the representations given by the derivative are in the paragraph immediately above, and these are <strong>not the definition</strong>.</p>
</section>
</section>
<section id="applications-and-units-of-derivatives" class="level3">
<h3 class="anchored" data-anchor-id="applications-and-units-of-derivatives">Applications and units of derivatives</h3>
<p>If <span class="math inline">\(f(t)\)</span> represents the length of a deer’s antler, in inches, on a given day in May, and <span class="math inline">\(t\)</span> represents time in days (with 1 being the first day of May), what does <span class="math inline">\(f'(10)=\)</span> represent? <strong><font color="#009900">Try to think this through before reading on, including units in your answer.</font></strong></p>
<p><span class="math inline">\(f'(10)\)</span> should represent the rate of change of <span class="math inline">\(f\)</span> on the day <span class="math inline">\(t=10\)</span>, so it is the rate of change of the length of the deer’s antler on May 10. So if <span class="math inline">\(f'(10)=\)</span>, the deer’s antler is growing at a rate of units on the 10th of May. The units are determined by the change in <span class="math inline">\(f\)</span> divided by the change in <span class="math inline">\(t\)</span>, so the units are (units of <span class="math inline">\(f\)</span>)/(units of <span class="math inline">\(t\)</span>). We see that the deer’s antler is growing at a rate of inches/day on the 10th of May.</p>
<p><strong><font color="#009900"><u>Do</u>:</font></strong> Let <span class="math inline">\(h(\theta)\)</span> represent the height in meters of the end of a long ladder that is being raised, where <span class="math inline">\(\theta\)</span>, measured in radians, represents the angle of the ladder to the (horizontal) ground. What does <span class="math inline">\(h'(\frac{\pi}{6})=3\)</span> represent, including units?</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>